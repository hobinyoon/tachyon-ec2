run1 #: 0

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
6316 tachyon.Master
6343 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:00:29 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:00:29 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43560
Creating SparkContext...
13/07/28 05:00:38 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:00:39 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:00:39 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:00:39 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050039-6a6c
13/07/28 05:00:39 INFO network.ConnectionManager: Bound socket to port 51701 with id = ConnectionManagerId(tachyon-ec2-0,51701)
13/07/28 05:00:39 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:00:39 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:51701 with 1295.4 MB RAM
13/07/28 05:00:39 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:00:39 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:00:39 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:57188
13/07/28 05:00:39 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:57188
13/07/28 05:00:39 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:00:39 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-ec315d56-80e9-45b4-845e-b6df906f19d0
13/07/28 05:00:39 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:00:39 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:57278
13/07/28 05:00:39 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:00:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:00:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:00:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:00:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:00:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:00:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:00:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:00:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:00:39 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:00:39 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1")
13/07/28 05:00:40 INFO storage.MemoryStore: ensureFreeSpace(58415) called with curMem=0, maxMem=1358297825
13/07/28 05:00:40 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.0 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:00:40 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:00:40 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:00:40 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:00:40 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:00:40 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:00:40 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:00:40 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:00:41 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:00:41 INFO : getFileStatus(/hit_data.tsv.1): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:00:41 INFO : tachyon.client.TachyonFS@1ed3954e s3n://2012-05-19-sample /hit_data.tsv.1 tachyon.PrefixList@54ef43b1
13/07/28 05:00:43 INFO : Create tachyon file /hit_data.tsv.1 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1
13/07/28 05:00:43 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:00:43 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:00:43 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:00:43 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:00:43 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:00:43 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:00:43 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:00:43 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:00:43 INFO local.LocalTaskSetManager: Size of task 0 is 1494 bytes
13/07/28 05:00:43 INFO local.LocalScheduler: Running 0
13/07/28 05:00:43 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:00:43 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:00:43 INFO : Try to find and read from remote workers.
13/07/28 05:00:43 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:00:43 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1' for reading
13/07/28 05:00:43 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:00:43 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:00:43 INFO local.LocalScheduler: Finished 0
13/07/28 05:00:43 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:00:43 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:00:43 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.459 s
13/07/28 05:00:43 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.504193683 s
res0: Long = 1

scala> 13/07/28 05:00:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:00:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:00:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:00:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:00:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:00:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:00:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:00:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:00:45,409 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:00:45,413 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:00:46,010 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:00:46,753 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:00:46,871 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:00:46,882 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:00:46,909 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:00:46,935 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:00:46,947 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:00:46,994 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:00:47,004 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:00:47,106 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:00:47,120 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:00:47,148 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:00:47,170 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:00:47,183 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
6878 tachyon.Master
6905 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:00:53 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:00:53 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:37452
Creating SparkContext...
13/07/28 05:01:03 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:01:03 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:01:03 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:01:03 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050103-c550
13/07/28 05:01:03 INFO network.ConnectionManager: Bound socket to port 53548 with id = ConnectionManagerId(tachyon-ec2-0,53548)
13/07/28 05:01:03 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:01:03 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:53548 with 1295.4 MB RAM
13/07/28 05:01:03 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:01:03 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:01:03 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36592
13/07/28 05:01:03 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:36592
13/07/28 05:01:03 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:01:03 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-8f1ff245-77f9-4773-99dc-3f63d8626c34
13/07/28 05:01:03 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:01:03 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54967
13/07/28 05:01:03 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:01:03 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:01:03 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:01:03 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:01:03 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:01:03 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:01:03 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:01:03 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:01:03 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:01:03 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:01:03 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100")
13/07/28 05:01:05 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:01:05 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:01:05 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:01:05 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:01:05 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:01:05 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:01:05 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:01:05 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:01:05 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:01:05 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:01:05 INFO : getFileStatus(/hit_data.tsv.100): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:01:06 INFO : tachyon.client.TachyonFS@5de132a5 s3n://2012-05-19-sample /hit_data.tsv.100 tachyon.PrefixList@6bc41ec9
13/07/28 05:01:07 INFO : Create tachyon file /hit_data.tsv.100 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100
13/07/28 05:01:07 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:01:07 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:01:07 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:01:07 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:01:07 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:01:07 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:01:07 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:01:07 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:01:07 INFO local.LocalTaskSetManager: Size of task 0 is 1496 bytes
13/07/28 05:01:07 INFO local.LocalScheduler: Running 0
13/07/28 05:01:07 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:01:08 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:01:08 INFO : Try to find and read from remote workers.
13/07/28 05:01:08 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:01:08 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100' for reading
13/07/28 05:01:08 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:01:08 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:01:08 INFO local.LocalScheduler: Finished 0
13/07/28 05:01:08 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:01:08 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:01:08 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.506 s
13/07/28 05:01:08 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.551320365 s
res0: Long = 100

scala> 13/07/28 05:01:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:01:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:01:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:01:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:01:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:01:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:01:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:01:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:01:10,031 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:01:10,035 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:01:10,632 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:01:11,417 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:01:11,548 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:01:11,565 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:01:11,600 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:01:11,715 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:01:11,733 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:01:11,777 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:01:11,792 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:01:11,882 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:01:11,894 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:01:11,929 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:01:11,962 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:01:11,975 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
7441 tachyon.Master
7468 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:01:18 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:01:18 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36286
Creating SparkContext...
13/07/28 05:01:27 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:01:27 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:01:27 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:01:27 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050127-696d
13/07/28 05:01:27 INFO network.ConnectionManager: Bound socket to port 37427 with id = ConnectionManagerId(tachyon-ec2-0,37427)
13/07/28 05:01:27 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:01:27 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:37427 with 1295.4 MB RAM
13/07/28 05:01:27 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:01:27 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:01:27 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44540
13/07/28 05:01:27 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:44540
13/07/28 05:01:27 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:01:27 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-5e31767d-d59d-4623-8812-e9effc0a3e37
13/07/28 05:01:27 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:01:27 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:38049
13/07/28 05:01:27 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:01:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:01:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:01:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:01:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:01:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:01:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:01:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:01:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:01:27 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:01:27 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000")
13/07/28 05:01:29 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:01:29 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:01:29 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:01:29 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:01:29 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:01:29 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:01:29 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:01:29 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:01:29 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:01:29 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:01:29 INFO : getFileStatus(/hit_data.tsv.1000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:01:30 INFO : tachyon.client.TachyonFS@6bc41ec9 s3n://2012-05-19-sample /hit_data.tsv.1000 tachyon.PrefixList@18c15565
13/07/28 05:01:32 INFO : Create tachyon file /hit_data.tsv.1000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1000
13/07/28 05:01:32 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:01:32 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:01:32 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:01:32 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:01:32 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:01:32 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:01:32 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:01:32 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:01:32 INFO local.LocalTaskSetManager: Size of task 0 is 1497 bytes
13/07/28 05:01:32 INFO local.LocalScheduler: Running 0
13/07/28 05:01:32 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:01:32 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:01:32 INFO : Try to find and read from remote workers.
13/07/28 05:01:32 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:01:32 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1000' for reading
13/07/28 05:01:32 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:01:32 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:01:32 INFO local.LocalScheduler: Finished 0
13/07/28 05:01:32 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:01:32 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:01:32 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.686 s
13/07/28 05:01:32 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.730784812 s
res0: Long = 1000

scala> 13/07/28 05:01:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:01:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:01:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:01:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:01:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:01:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:01:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:01:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:01:34,593 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:01:34,597 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:01:35,193 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:01:35,947 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:01:36,083 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:01:36,100 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:01:36,139 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:01:36,170 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:01:36,186 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:01:36,235 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:01:36,252 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:01:36,351 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:01:36,366 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:01:36,403 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:01:36,444 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:01:36,458 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
8005 tachyon.Master
8032 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:01:42 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:01:42 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54976
Creating SparkContext...
13/07/28 05:01:52 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:01:52 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:01:52 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:01:52 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050152-b9d2
13/07/28 05:01:52 INFO network.ConnectionManager: Bound socket to port 52626 with id = ConnectionManagerId(tachyon-ec2-0,52626)
13/07/28 05:01:52 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:01:52 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:52626 with 1295.4 MB RAM
13/07/28 05:01:52 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:01:52 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:01:52 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:48431
13/07/28 05:01:52 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:48431
13/07/28 05:01:52 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:01:52 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-db8f17f7-b1c7-4102-8193-449c330934a3
13/07/28 05:01:52 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:01:52 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44588
13/07/28 05:01:52 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:01:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:01:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:01:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:01:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:01:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:01:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:01:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:01:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:01:52 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:01:52 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000")
13/07/28 05:01:53 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:01:53 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:01:54 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:01:54 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:01:54 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:01:54 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:01:54 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:01:54 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:01:54 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:01:54 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:01:54 INFO : getFileStatus(/hit_data.tsv.10000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.10000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:01:55 INFO : tachyon.client.TachyonFS@18c15565 s3n://2012-05-19-sample /hit_data.tsv.10000 tachyon.PrefixList@3ccd6695
13/07/28 05:01:56 INFO : Create tachyon file /hit_data.tsv.10000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.10000
13/07/28 05:01:56 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:01:56 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:01:56 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:01:56 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:01:56 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:01:56 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:01:56 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:01:56 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:01:56 INFO local.LocalTaskSetManager: Size of task 0 is 1498 bytes
13/07/28 05:01:56 INFO local.LocalScheduler: Running 0
13/07/28 05:01:56 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:01:56 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:01:56 INFO : Try to find and read from remote workers.
13/07/28 05:01:56 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:01:56 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.10000' for reading
13/07/28 05:01:57 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:01:57 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:01:58 INFO local.LocalScheduler: Finished 0
13/07/28 05:01:58 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:01:58 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:01:58 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 1.469 s
13/07/28 05:01:58 INFO spark.SparkContext: Job finished: count at <console>:15, took 1.513074444 s
res0: Long = 10000

scala> 13/07/28 05:01:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:01:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:01:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:01:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:01:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:01:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:01:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:01:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:01:59,840 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:01:59,844 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:02:00,439 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:02:01,201 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:02:01,332 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:02:01,347 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:02:01,382 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:02:01,412 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:02:01,426 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:02:01,549 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:02:01,564 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:02:01,660 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:02:01,673 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:02:01,710 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:02:01,742 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:02:01,755 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
8603 tachyon.Master
8630 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:02:08 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:02:08 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:51369
Creating SparkContext...
13/07/28 05:02:17 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:02:17 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:02:17 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:02:17 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050217-1ee5
13/07/28 05:02:17 INFO network.ConnectionManager: Bound socket to port 38882 with id = ConnectionManagerId(tachyon-ec2-0,38882)
13/07/28 05:02:17 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:02:17 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:38882 with 1295.4 MB RAM
13/07/28 05:02:17 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:02:17 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:02:17 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:50207
13/07/28 05:02:17 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:50207
13/07/28 05:02:17 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:02:17 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-81bd3556-ce39-4549-8bfa-58d54c283831
13/07/28 05:02:17 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:02:17 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:33960
13/07/28 05:02:17 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:02:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:02:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:02:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:02:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:02:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:02:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:02:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:02:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:02:17 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:02:17 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000")
13/07/28 05:02:19 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:02:19 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:02:19 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:02:19 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:02:19 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:02:19 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:02:19 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:02:19 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:02:19 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:02:19 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:02:19 INFO : getFileStatus(/hit_data.tsv.100000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:02:20 INFO : tachyon.client.TachyonFS@4386f41e s3n://2012-05-19-sample /hit_data.tsv.100000 tachyon.PrefixList@51050034
13/07/28 05:02:21 INFO : Create tachyon file /hit_data.tsv.100000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100000
13/07/28 05:02:21 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:02:21 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:02:21 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:02:21 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:02:21 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:02:21 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:02:21 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:02:21 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:02:21 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:02:21 INFO local.LocalScheduler: Running 0
13/07/28 05:02:21 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:02:22 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:02:22 INFO : Try to find and read from remote workers.
13/07/28 05:02:22 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:02:22 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100000' for reading
13/07/28 05:02:22 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:02:22 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:02:30 INFO local.LocalScheduler: Finished 0
13/07/28 05:02:30 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:02:30 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:02:30 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 8.209 s
13/07/28 05:02:30 INFO spark.SparkContext: Job finished: count at <console>:15, took 8.252580673 s
res0: Long = 100002

scala> 13/07/28 05:02:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:02:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:02:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:02:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:02:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:02:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:02:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:02:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:02:31,778 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:02:31,782 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:02:32,373 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:02:33,127 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:02:33,244 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:02:33,257 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:02:33,292 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:02:33,320 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:02:33,332 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:02:33,370 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:02:33,382 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:02:33,472 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:02:33,485 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:02:33,519 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:02:33,545 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:02:33,557 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
9197 tachyon.Master
9224 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:02:39 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:02:39 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:59014
Creating SparkContext...
13/07/28 05:02:49 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:02:49 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:02:49 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:02:49 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050249-3929
13/07/28 05:02:49 INFO network.ConnectionManager: Bound socket to port 35168 with id = ConnectionManagerId(tachyon-ec2-0,35168)
13/07/28 05:02:49 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:02:49 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:35168 with 1295.4 MB RAM
13/07/28 05:02:49 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:02:49 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:02:49 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:52139
13/07/28 05:02:49 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:52139
13/07/28 05:02:49 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:02:49 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-bfdf4e40-683f-4f8e-ab8e-10b56f3cd889
13/07/28 05:02:49 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:02:49 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:41791
13/07/28 05:02:49 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:02:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:02:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:02:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:02:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:02:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:02:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:02:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:02:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:02:49 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:02:49 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000")
13/07/28 05:02:50 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:02:50 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:02:51 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:02:51 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:02:51 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:02:51 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:02:51 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:02:51 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:02:51 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:02:51 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:02:51 INFO : getFileStatus(/hit_data.tsv.500000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.500000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:02:52 INFO : tachyon.client.TachyonFS@5109df62 s3n://2012-05-19-sample /hit_data.tsv.500000 tachyon.PrefixList@5f28c47e
13/07/28 05:02:53 INFO : Create tachyon file /hit_data.tsv.500000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.500000
13/07/28 05:02:53 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:02:53 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:02:53 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:02:53 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:02:53 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:02:53 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:02:53 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:02:53 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:02:53 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:02:53 INFO local.LocalScheduler: Running 0
13/07/28 05:02:53 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:02:53 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:02:53 INFO : Try to find and read from remote workers.
13/07/28 05:02:53 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:02:53 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.500000' for reading
13/07/28 05:02:54 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:02:54 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:03:30 INFO local.LocalScheduler: Finished 0
13/07/28 05:03:30 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:03:30 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:03:30 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 36.723 s
13/07/28 05:03:30 INFO spark.SparkContext: Job finished: count at <console>:15, took 36.767442087 s
res0: Long = 500094

scala> 13/07/28 05:03:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:03:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:03:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:03:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:03:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:03:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:03:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:03:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:03:32,202 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:03:32,206 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:03:32,803 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:03:33,584 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:03:33,753 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:03:33,766 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:03:33,815 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:03:33,852 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:03:33,864 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:03:33,923 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:03:33,941 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:03:34,039 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:03:34,059 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:03:34,100 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:03:34,140 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:03:34,156 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

run1 #: 1

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
9917 tachyon.Master
9944 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:03:40 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:03:40 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:57155
Creating SparkContext...
13/07/28 05:03:49 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:03:49 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:03:49 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:03:49 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050349-894d
13/07/28 05:03:49 INFO network.ConnectionManager: Bound socket to port 34417 with id = ConnectionManagerId(tachyon-ec2-0,34417)
13/07/28 05:03:49 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:03:50 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:34417 with 1295.4 MB RAM
13/07/28 05:03:50 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:03:50 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:03:50 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:48168
13/07/28 05:03:50 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:48168
13/07/28 05:03:50 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:03:50 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-880b2d00-ba0b-4837-856f-8f61baec16da
13/07/28 05:03:50 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:03:50 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:56678
13/07/28 05:03:50 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:03:50 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:03:50 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:03:50 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:03:50 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:03:50 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:03:50 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:03:50 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:03:50 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:03:50 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:03:50 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1")
13/07/28 05:03:51 INFO storage.MemoryStore: ensureFreeSpace(58415) called with curMem=0, maxMem=1358297825
13/07/28 05:03:51 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.0 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:03:51 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:03:51 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:03:51 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:03:51 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:03:51 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:03:51 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:03:51 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:03:51 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:03:51 INFO : getFileStatus(/hit_data.tsv.1): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:03:52 INFO : tachyon.client.TachyonFS@b8c56f6 s3n://2012-05-19-sample /hit_data.tsv.1 tachyon.PrefixList@2aa13666
13/07/28 05:03:54 INFO : Create tachyon file /hit_data.tsv.1 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1
13/07/28 05:03:54 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:03:54 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:03:54 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:03:54 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:03:54 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:03:54 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:03:54 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:03:54 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:03:54 INFO local.LocalTaskSetManager: Size of task 0 is 1494 bytes
13/07/28 05:03:54 INFO local.LocalScheduler: Running 0
13/07/28 05:03:54 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:03:54 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:03:54 INFO : Try to find and read from remote workers.
13/07/28 05:03:54 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:03:54 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1' for reading
13/07/28 05:03:54 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:03:54 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:03:54 INFO local.LocalScheduler: Finished 0
13/07/28 05:03:54 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:03:54 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:03:54 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.452 s
13/07/28 05:03:54 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.496498392 s
res0: Long = 1

scala> 13/07/28 05:03:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:03:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:03:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:03:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:03:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:03:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:03:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:03:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:03:56,316 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:03:56,320 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:03:56,911 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:03:57,652 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:03:57,792 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:03:57,811 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:03:57,856 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:03:57,892 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:03:57,906 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:03:57,986 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:03:58,003 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:03:58,325 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:03:58,340 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:03:58,376 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:03:58,402 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:03:58,439 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
10478 tachyon.Master
10505 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:04:04 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:04:04 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:46839
Creating SparkContext...
13/07/28 05:04:14 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:04:14 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:04:14 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:04:14 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050414-16b6
13/07/28 05:04:14 INFO network.ConnectionManager: Bound socket to port 50342 with id = ConnectionManagerId(tachyon-ec2-0,50342)
13/07/28 05:04:14 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:04:14 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:50342 with 1295.4 MB RAM
13/07/28 05:04:14 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:04:14 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:04:14 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54247
13/07/28 05:04:14 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:54247
13/07/28 05:04:14 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:04:14 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-edafe966-18df-4598-b395-0d5241bb9e74
13/07/28 05:04:14 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:04:14 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:56865
13/07/28 05:04:14 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:04:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:04:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:04:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:04:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:04:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:04:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:04:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:04:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:04:14 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:04:14 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100")
13/07/28 05:04:15 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:04:15 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:04:16 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:04:16 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:04:16 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:04:16 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:04:16 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:04:16 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:04:16 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:04:16 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:04:16 INFO : getFileStatus(/hit_data.tsv.100): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:04:17 INFO : tachyon.client.TachyonFS@18c15565 s3n://2012-05-19-sample /hit_data.tsv.100 tachyon.PrefixList@3ccd6695
13/07/28 05:04:18 INFO : Create tachyon file /hit_data.tsv.100 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100
13/07/28 05:04:18 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:04:18 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:04:18 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:04:18 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:04:18 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:04:18 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:04:18 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:04:18 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:04:18 INFO local.LocalTaskSetManager: Size of task 0 is 1496 bytes
13/07/28 05:04:18 INFO local.LocalScheduler: Running 0
13/07/28 05:04:18 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:04:18 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:04:18 INFO : Try to find and read from remote workers.
13/07/28 05:04:18 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:04:18 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100' for reading
13/07/28 05:04:18 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:04:18 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:04:19 INFO local.LocalScheduler: Finished 0
13/07/28 05:04:19 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:04:19 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:04:19 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.480 s
13/07/28 05:04:19 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.52371124 s
res0: Long = 100

scala> 13/07/28 05:04:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:04:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:04:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:04:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:04:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:04:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:04:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:04:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:04:20,736 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:04:20,740 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:04:21,329 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:04:22,084 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:04:22,202 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:04:22,214 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:04:22,247 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:04:22,274 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:04:22,286 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:04:22,321 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:04:22,333 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:04:22,418 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:04:22,433 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:04:22,471 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:04:22,495 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:04:22,510 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
11042 tachyon.Master
11069 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:04:28 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:04:28 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:50918
Creating SparkContext...
13/07/28 05:04:38 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:04:38 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:04:38 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:04:38 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050438-9765
13/07/28 05:04:38 INFO network.ConnectionManager: Bound socket to port 38588 with id = ConnectionManagerId(tachyon-ec2-0,38588)
13/07/28 05:04:38 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:04:38 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:38588 with 1295.4 MB RAM
13/07/28 05:04:38 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:04:38 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:04:38 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:40635
13/07/28 05:04:38 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:40635
13/07/28 05:04:38 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:04:38 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-28ea0573-4fe3-4250-bcc4-f7b80372b4f1
13/07/28 05:04:38 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:04:38 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36590
13/07/28 05:04:38 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:04:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:04:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:04:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:04:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:04:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:04:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:04:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:04:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:04:38 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:04:38 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000")
13/07/28 05:04:39 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:04:39 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:04:40 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:04:40 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:04:40 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:04:40 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:04:40 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:04:40 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:04:40 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:04:40 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:04:40 INFO : getFileStatus(/hit_data.tsv.1000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:04:41 INFO : tachyon.client.TachyonFS@54ef43b1 s3n://2012-05-19-sample /hit_data.tsv.1000 tachyon.PrefixList@28454507
13/07/28 05:04:42 INFO : Create tachyon file /hit_data.tsv.1000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1000
13/07/28 05:04:42 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:04:42 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:04:42 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:04:42 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:04:42 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:04:42 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:04:42 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:04:42 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:04:42 INFO local.LocalTaskSetManager: Size of task 0 is 1497 bytes
13/07/28 05:04:42 INFO local.LocalScheduler: Running 0
13/07/28 05:04:42 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:04:42 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:04:42 INFO : Try to find and read from remote workers.
13/07/28 05:04:42 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:04:42 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1000' for reading
13/07/28 05:04:43 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:04:43 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:04:43 INFO local.LocalScheduler: Finished 0
13/07/28 05:04:43 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:04:43 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:04:43 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.825 s
13/07/28 05:04:43 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.869400299 s
res0: Long = 1000

scala> 13/07/28 05:04:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:04:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:04:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:04:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:04:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:04:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:04:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:04:43 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:04:44,996 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:04:45,000 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:04:45,601 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:04:46,356 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:04:46,465 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:04:46,475 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:04:46,505 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:04:46,531 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:04:46,541 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:04:46,582 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:04:46,592 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:04:46,669 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:04:46,682 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:04:46,714 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:04:46,736 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:04:46,750 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
11605 tachyon.Master
11632 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:04:53 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:04:53 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:60002
Creating SparkContext...
13/07/28 05:05:02 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:05:02 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:05:02 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:05:02 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050502-0ea9
13/07/28 05:05:02 INFO network.ConnectionManager: Bound socket to port 50502 with id = ConnectionManagerId(tachyon-ec2-0,50502)
13/07/28 05:05:02 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:05:02 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:50502 with 1295.4 MB RAM
13/07/28 05:05:02 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:05:02 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:05:02 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:60850
13/07/28 05:05:02 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:60850
13/07/28 05:05:02 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:05:02 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-115437e8-3959-4324-8e34-577e2ca40312
13/07/28 05:05:02 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:05:02 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36404
13/07/28 05:05:02 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:05:02 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:05:02 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:05:02 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:05:02 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:05:02 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:05:02 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:05:02 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:05:02 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:05:02 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:05:02 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000")
13/07/28 05:05:04 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:05:04 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:05:04 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:05:04 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:05:04 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:05:04 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:05:04 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:05:04 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:05:04 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:05:04 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:05:04 INFO : getFileStatus(/hit_data.tsv.10000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.10000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:05:05 INFO : tachyon.client.TachyonFS@5f28c47e s3n://2012-05-19-sample /hit_data.tsv.10000 tachyon.PrefixList@6d7c5d00
13/07/28 05:05:06 INFO : Create tachyon file /hit_data.tsv.10000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.10000
13/07/28 05:05:06 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:05:06 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:05:06 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:05:06 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:05:06 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:05:06 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:05:06 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:05:06 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:05:06 INFO local.LocalTaskSetManager: Size of task 0 is 1498 bytes
13/07/28 05:05:06 INFO local.LocalScheduler: Running 0
13/07/28 05:05:07 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:05:07 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:05:07 INFO : Try to find and read from remote workers.
13/07/28 05:05:07 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:05:07 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.10000' for reading
13/07/28 05:05:07 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:05:07 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:05:08 INFO local.LocalScheduler: Finished 0
13/07/28 05:05:08 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:05:08 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:05:08 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 1.452 s
13/07/28 05:05:08 INFO spark.SparkContext: Job finished: count at <console>:15, took 1.495422 s
res0: Long = 10000

scala> 13/07/28 05:05:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:05:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:05:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:05:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:05:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:05:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:05:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:05:08 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:05:10,087 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:05:10,091 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:05:10,682 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:05:11,434 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:05:11,603 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:05:11,620 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:05:11,662 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:05:11,703 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:05:11,715 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:05:11,774 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:05:11,785 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:05:11,864 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:05:11,878 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:05:11,920 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:05:11,944 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:05:11,963 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
12178 tachyon.Master
12212 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:05:18 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:05:18 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:46884
Creating SparkContext...
13/07/28 05:05:27 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:05:27 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:05:27 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:05:27 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050527-6784
13/07/28 05:05:27 INFO network.ConnectionManager: Bound socket to port 41240 with id = ConnectionManagerId(tachyon-ec2-0,41240)
13/07/28 05:05:27 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:05:27 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:41240 with 1295.4 MB RAM
13/07/28 05:05:27 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:05:27 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:05:27 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43495
13/07/28 05:05:27 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:43495
13/07/28 05:05:27 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:05:27 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-9a7aef7f-cbbc-480f-b6c9-786181a44619
13/07/28 05:05:27 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:05:27 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:58774
13/07/28 05:05:27 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:05:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:05:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:05:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:05:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:05:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:05:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:05:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:05:27 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:05:27 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:05:27 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000")
13/07/28 05:05:29 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:05:29 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:05:29 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:05:29 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:05:29 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:05:29 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:05:29 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:05:29 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:05:29 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:05:29 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:05:29 INFO : getFileStatus(/hit_data.tsv.100000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:05:30 INFO : tachyon.client.TachyonFS@7fbde327 s3n://2012-05-19-sample /hit_data.tsv.100000 tachyon.PrefixList@b8c56f6
13/07/28 05:05:31 INFO : Create tachyon file /hit_data.tsv.100000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100000
13/07/28 05:05:31 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:05:31 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:05:31 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:05:31 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:05:31 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:05:31 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:05:31 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:05:31 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:05:32 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:05:32 INFO local.LocalScheduler: Running 0
13/07/28 05:05:32 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:05:32 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:05:32 INFO : Try to find and read from remote workers.
13/07/28 05:05:32 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:05:32 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100000' for reading
13/07/28 05:05:32 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:05:32 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:05:39 INFO local.LocalScheduler: Finished 0
13/07/28 05:05:39 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:05:39 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:05:39 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 7.695 s
13/07/28 05:05:39 INFO spark.SparkContext: Job finished: count at <console>:15, took 7.739228136 s
res0: Long = 100002

scala> 13/07/28 05:05:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:05:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:05:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:05:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:05:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:05:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:05:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:05:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:05:41,503 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:05:41,507 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:05:42,100 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:05:42,865 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:05:43,004 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:05:43,024 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:05:43,058 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:05:43,092 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:05:43,115 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:05:43,155 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:05:43,166 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:05:43,459 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:05:43,479 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:05:43,618 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:05:43,649 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:05:43,666 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
12801 tachyon.Master
12828 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:05:49 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:05:49 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:53242
Creating SparkContext...
13/07/28 05:05:59 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:05:59 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:05:59 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:05:59 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050559-6ad7
13/07/28 05:05:59 INFO network.ConnectionManager: Bound socket to port 60833 with id = ConnectionManagerId(tachyon-ec2-0,60833)
13/07/28 05:05:59 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:05:59 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:60833 with 1295.4 MB RAM
13/07/28 05:05:59 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:05:59 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:05:59 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:42208
13/07/28 05:05:59 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:42208
13/07/28 05:05:59 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:05:59 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-46220cbb-a406-4ab9-a9a4-7345bd1f67e4
13/07/28 05:05:59 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:05:59 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:42097
13/07/28 05:05:59 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:05:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:05:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:05:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:05:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:05:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:05:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:05:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:05:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:05:59 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:05:59 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000")
13/07/28 05:06:00 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:06:00 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:06:01 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:06:01 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:06:01 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:06:01 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:06:01 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:06:01 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:06:01 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:06:01 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:06:01 INFO : getFileStatus(/hit_data.tsv.500000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.500000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:06:02 INFO : tachyon.client.TachyonFS@44f54509 s3n://2012-05-19-sample /hit_data.tsv.500000 tachyon.PrefixList@4287753d
13/07/28 05:06:03 INFO : Create tachyon file /hit_data.tsv.500000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.500000
13/07/28 05:06:03 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:06:03 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:06:03 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:06:03 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:06:03 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:06:03 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:06:03 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:06:03 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:06:03 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:06:03 INFO local.LocalScheduler: Running 0
13/07/28 05:06:04 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:06:04 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:06:04 INFO : Try to find and read from remote workers.
13/07/28 05:06:04 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:06:04 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.500000' for reading
13/07/28 05:06:04 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:06:04 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:06:33 INFO local.LocalScheduler: Finished 0
13/07/28 05:06:33 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:06:33 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:06:33 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 29.299 s
13/07/28 05:06:33 INFO spark.SparkContext: Job finished: count at <console>:15, took 29.343011187 s
res0: Long = 500094

scala> 13/07/28 05:06:33 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:06:33 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:06:33 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:06:33 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:06:33 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:06:33 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:06:33 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:06:33 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:06:35,073 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:06:35,077 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:06:35,675 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:06:36,450 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:06:36,661 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:06:36,702 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:06:36,768 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:06:36,851 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:06:36,875 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:06:36,959 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:06:37,012 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:06:37,136 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:06:37,160 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:06:37,278 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:06:37,324 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:06:37,344 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

run1 #: 2

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
13499 tachyon.Master
13526 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:06:43 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:06:43 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:52697
Creating SparkContext...
13/07/28 05:06:53 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:06:53 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:06:53 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:06:53 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050653-988c
13/07/28 05:06:53 INFO network.ConnectionManager: Bound socket to port 40851 with id = ConnectionManagerId(tachyon-ec2-0,40851)
13/07/28 05:06:53 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:06:53 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:40851 with 1295.4 MB RAM
13/07/28 05:06:53 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:06:53 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:06:53 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:38234
13/07/28 05:06:53 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:38234
13/07/28 05:06:53 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:06:53 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-becede53-7592-46b8-a04b-9da2f070eb35
13/07/28 05:06:53 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:06:53 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:52951
13/07/28 05:06:53 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:06:53 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:06:53 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:06:53 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:06:53 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:06:53 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:06:53 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:06:53 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:06:53 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:06:53 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:06:53 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1")
13/07/28 05:06:54 INFO storage.MemoryStore: ensureFreeSpace(58415) called with curMem=0, maxMem=1358297825
13/07/28 05:06:54 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.0 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:06:55 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:06:55 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:06:55 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:06:55 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:06:55 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:06:55 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:06:55 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:06:55 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:06:55 INFO : getFileStatus(/hit_data.tsv.1): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:06:56 INFO : tachyon.client.TachyonFS@5f28c47e s3n://2012-05-19-sample /hit_data.tsv.1 tachyon.PrefixList@6d7c5d00
13/07/28 05:06:57 INFO : Create tachyon file /hit_data.tsv.1 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1
13/07/28 05:06:57 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:06:57 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:06:57 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:06:57 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:06:57 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:06:57 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:06:57 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:06:57 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:06:57 INFO local.LocalTaskSetManager: Size of task 0 is 1494 bytes
13/07/28 05:06:57 INFO local.LocalScheduler: Running 0
13/07/28 05:06:57 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:06:57 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:06:57 INFO : Try to find and read from remote workers.
13/07/28 05:06:57 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:06:57 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1' for reading
13/07/28 05:06:57 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:06:57 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:06:57 INFO local.LocalScheduler: Finished 0
13/07/28 05:06:57 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:06:57 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:06:57 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.449 s
13/07/28 05:06:57 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.49313332 s
res0: Long = 1

scala> 13/07/28 05:06:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:06:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:06:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:06:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:06:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:06:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:06:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:06:58 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:06:59,724 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:06:59,728 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:07:00,317 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:07:01,090 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:07:01,317 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:07:01,346 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:07:01,423 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:07:01,481 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:07:01,514 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:07:01,602 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:07:01,630 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:07:01,792 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:07:01,816 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:07:01,875 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:07:01,925 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:07:01,946 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
14060 tachyon.Master
14087 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:07:08 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:07:08 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:47041
Creating SparkContext...
13/07/28 05:07:17 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:07:17 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:07:17 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:07:17 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050717-81ec
13/07/28 05:07:17 INFO network.ConnectionManager: Bound socket to port 58504 with id = ConnectionManagerId(tachyon-ec2-0,58504)
13/07/28 05:07:17 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:07:17 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:58504 with 1295.4 MB RAM
13/07/28 05:07:17 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:07:17 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:07:17 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:57861
13/07/28 05:07:17 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:57861
13/07/28 05:07:17 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:07:17 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-9d10a884-5183-41a3-be87-3748fe23cb10
13/07/28 05:07:17 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:07:17 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:57137
13/07/28 05:07:17 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:07:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:07:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:07:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:07:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:07:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:07:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:07:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:07:17 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:07:17 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:07:17 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100")
13/07/28 05:07:19 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:07:19 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:07:19 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:07:19 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:07:19 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:07:19 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:07:19 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:07:19 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:07:19 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:07:19 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:07:19 INFO : getFileStatus(/hit_data.tsv.100): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:07:20 INFO : tachyon.client.TachyonFS@3ccd6695 s3n://2012-05-19-sample /hit_data.tsv.100 tachyon.PrefixList@5109df62
13/07/28 05:07:21 INFO : Create tachyon file /hit_data.tsv.100 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100
13/07/28 05:07:21 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:07:21 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:07:21 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:07:21 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:07:21 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:07:21 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:07:21 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:07:21 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:07:22 INFO local.LocalTaskSetManager: Size of task 0 is 1496 bytes
13/07/28 05:07:22 INFO local.LocalScheduler: Running 0
13/07/28 05:07:22 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:07:22 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:07:22 INFO : Try to find and read from remote workers.
13/07/28 05:07:22 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:07:22 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100' for reading
13/07/28 05:07:22 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:07:22 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:07:22 INFO local.LocalScheduler: Finished 0
13/07/28 05:07:22 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:07:22 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:07:22 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.501 s
13/07/28 05:07:22 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.54837118 s
res0: Long = 100

scala> 13/07/28 05:07:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:07:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:07:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:07:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:07:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:07:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:07:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:07:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:07:24,254 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:07:24,259 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:07:24,866 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:07:25,630 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:07:25,745 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:07:25,756 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:07:25,792 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:07:25,817 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:07:25,829 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:07:25,864 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:07:25,876 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:07:25,960 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:07:25,973 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:07:26,002 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:07:26,025 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:07:26,038 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
14621 tachyon.Master
14648 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:07:32 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:07:32 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54801
Creating SparkContext...
13/07/28 05:07:41 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:07:41 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:07:41 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:07:41 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050741-7de8
13/07/28 05:07:41 INFO network.ConnectionManager: Bound socket to port 39365 with id = ConnectionManagerId(tachyon-ec2-0,39365)
13/07/28 05:07:41 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:07:41 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:39365 with 1295.4 MB RAM
13/07/28 05:07:41 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:07:42 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:07:42 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44148
13/07/28 05:07:42 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:44148
13/07/28 05:07:42 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:07:42 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-3b4d7aa3-b2ae-466a-b03a-de676374a317
13/07/28 05:07:42 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:07:42 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:59740
13/07/28 05:07:42 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:07:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:07:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:07:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:07:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:07:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:07:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:07:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:07:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:07:42 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:07:42 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000")
13/07/28 05:07:43 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:07:43 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:07:43 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:07:43 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:07:43 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:07:43 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:07:43 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:07:43 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:07:43 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:07:43 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:07:43 INFO : getFileStatus(/hit_data.tsv.1000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:07:44 INFO : tachyon.client.TachyonFS@7cd46bea s3n://2012-05-19-sample /hit_data.tsv.1000 tachyon.PrefixList@5df90fac
13/07/28 05:07:45 INFO : Create tachyon file /hit_data.tsv.1000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1000
13/07/28 05:07:45 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:07:46 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:07:46 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:07:46 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:07:46 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:07:46 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:07:46 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:07:46 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:07:46 INFO local.LocalTaskSetManager: Size of task 0 is 1497 bytes
13/07/28 05:07:46 INFO local.LocalScheduler: Running 0
13/07/28 05:07:46 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:07:46 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:07:46 INFO : Try to find and read from remote workers.
13/07/28 05:07:46 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:07:46 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1000' for reading
13/07/28 05:07:46 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:07:46 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:07:46 INFO local.LocalScheduler: Finished 0
13/07/28 05:07:46 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:07:46 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:07:46 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.686 s
13/07/28 05:07:46 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.730600854 s
res0: Long = 1000

scala> 13/07/28 05:07:46 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:07:46 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:07:46 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:07:46 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:07:46 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:07:46 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:07:46 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:07:46 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:07:48,463 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:07:48,467 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:07:49,055 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:07:49,816 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:07:50,036 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:07:50,048 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:07:50,077 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:07:50,101 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:07:50,111 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:07:50,145 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:07:50,156 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:07:50,233 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:07:50,247 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:07:50,275 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:07:50,298 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:07:50,311 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
15183 tachyon.Master
15210 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:07:56 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:07:56 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54626
Creating SparkContext...
13/07/28 05:08:05 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:08:06 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:08:06 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:08:06 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050806-0750
13/07/28 05:08:06 INFO network.ConnectionManager: Bound socket to port 52035 with id = ConnectionManagerId(tachyon-ec2-0,52035)
13/07/28 05:08:06 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:08:06 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:52035 with 1295.4 MB RAM
13/07/28 05:08:06 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:08:06 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:08:06 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:33484
13/07/28 05:08:06 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:33484
13/07/28 05:08:06 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:08:06 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-48ab48d1-ac30-49f2-bd8c-90e2e85ae61b
13/07/28 05:08:06 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:08:06 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43789
13/07/28 05:08:06 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:08:06 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:08:06 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:08:06 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:08:06 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:08:06 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:08:06 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:08:06 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:08:06 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:08:06 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:08:06 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000")
13/07/28 05:08:07 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:08:07 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:08:07 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:08:07 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:08:08 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:08:08 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:08:08 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:08:08 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:08:08 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:08:08 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:08:08 INFO : getFileStatus(/hit_data.tsv.10000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.10000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:08:08 INFO : tachyon.client.TachyonFS@4287753d s3n://2012-05-19-sample /hit_data.tsv.10000 tachyon.PrefixList@4b2219ea
13/07/28 05:08:10 INFO : Create tachyon file /hit_data.tsv.10000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.10000
13/07/28 05:08:10 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:08:10 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:08:10 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:08:10 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:08:10 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:08:10 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:08:10 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:08:10 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:08:10 INFO local.LocalTaskSetManager: Size of task 0 is 1498 bytes
13/07/28 05:08:10 INFO local.LocalScheduler: Running 0
13/07/28 05:08:10 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:08:10 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:08:10 INFO : Try to find and read from remote workers.
13/07/28 05:08:10 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:08:10 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.10000' for reading
13/07/28 05:08:10 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:08:10 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:08:11 INFO local.LocalScheduler: Finished 0
13/07/28 05:08:11 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:08:11 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:08:11 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 1.392 s
13/07/28 05:08:11 INFO spark.SparkContext: Job finished: count at <console>:15, took 1.435945619 s
res0: Long = 10000

scala> 13/07/28 05:08:11 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:08:11 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:08:11 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:08:11 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:08:11 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:08:11 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:08:11 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:08:11 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:08:13,432 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:08:13,436 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:08:14,023 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:08:14,762 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:08:14,876 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:08:14,888 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:08:14,916 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:08:14,950 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:08:14,962 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:08:14,998 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:08:15,012 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:08:15,097 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:08:15,109 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:08:15,142 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:08:15,170 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:08:15,183 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
15746 tachyon.Master
15773 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:08:21 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:08:21 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44801
Creating SparkContext...
13/07/28 05:08:30 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:08:30 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:08:30 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:08:30 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050830-e1c6
13/07/28 05:08:31 INFO network.ConnectionManager: Bound socket to port 47080 with id = ConnectionManagerId(tachyon-ec2-0,47080)
13/07/28 05:08:31 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:08:31 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:47080 with 1295.4 MB RAM
13/07/28 05:08:31 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:08:31 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:08:31 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:37525
13/07/28 05:08:31 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:37525
13/07/28 05:08:31 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:08:31 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-14c1356c-b049-4746-9800-7a11a4f814d6
13/07/28 05:08:31 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:08:31 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54666
13/07/28 05:08:31 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:08:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:08:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:08:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:08:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:08:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:08:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:08:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:08:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:08:31 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:08:31 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000")
13/07/28 05:08:32 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:08:32 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:08:32 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:08:32 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:08:32 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:08:32 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:08:32 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:08:32 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:08:32 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:08:32 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:08:32 INFO : getFileStatus(/hit_data.tsv.100000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:08:33 INFO : tachyon.client.TachyonFS@32ab0d66 s3n://2012-05-19-sample /hit_data.tsv.100000 tachyon.PrefixList@7bfcbd86
13/07/28 05:08:34 INFO : Create tachyon file /hit_data.tsv.100000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100000
13/07/28 05:08:34 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:08:35 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:08:35 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:08:35 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:08:35 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:08:35 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:08:35 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:08:35 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:08:35 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:08:35 INFO local.LocalScheduler: Running 0
13/07/28 05:08:35 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:08:35 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:08:35 INFO : Try to find and read from remote workers.
13/07/28 05:08:35 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:08:35 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100000' for reading
13/07/28 05:08:35 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:08:35 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:08:42 INFO local.LocalScheduler: Finished 0
13/07/28 05:08:42 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:08:42 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:08:42 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 7.436 s
13/07/28 05:08:42 INFO spark.SparkContext: Job finished: count at <console>:15, took 7.481014326 s
res0: Long = 100002

scala> 13/07/28 05:08:42 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:08:42 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:08:42 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:08:42 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:08:42 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:08:42 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:08:42 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:08:42 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:08:44,231 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:08:44,235 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:08:44,836 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:08:45,589 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:08:45,709 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:08:45,721 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:08:45,753 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:08:45,779 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:08:45,791 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:08:45,830 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:08:45,842 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:08:45,922 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:08:45,935 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:08:45,967 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:08:45,992 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:08:46,004 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
16335 tachyon.Master
16362 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:08:52 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:08:52 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:47339
Creating SparkContext...
13/07/28 05:09:01 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:09:01 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:09:01 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:09:01 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728050901-e86f
13/07/28 05:09:01 INFO network.ConnectionManager: Bound socket to port 46285 with id = ConnectionManagerId(tachyon-ec2-0,46285)
13/07/28 05:09:01 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:09:01 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:46285 with 1295.4 MB RAM
13/07/28 05:09:01 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:09:01 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:09:01 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:33865
13/07/28 05:09:01 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:33865
13/07/28 05:09:01 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:09:01 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-c0e449af-5be2-491b-9198-da223be25de8
13/07/28 05:09:01 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:09:01 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44691
13/07/28 05:09:01 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:09:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:09:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:09:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:09:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:09:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:09:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:09:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:09:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:09:01 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:09:01 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000")
13/07/28 05:09:03 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:09:03 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:09:03 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:09:03 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:09:03 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:09:03 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:09:03 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:09:03 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:09:03 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:09:03 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:09:03 INFO : getFileStatus(/hit_data.tsv.500000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.500000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:09:04 INFO : tachyon.client.TachyonFS@10c2780 s3n://2012-05-19-sample /hit_data.tsv.500000 tachyon.PrefixList@44f54509
13/07/28 05:09:05 INFO : Create tachyon file /hit_data.tsv.500000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.500000
13/07/28 05:09:05 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:09:05 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:09:05 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:09:05 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:09:05 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:09:05 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:09:05 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:09:05 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:09:06 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:09:06 INFO local.LocalScheduler: Running 0
13/07/28 05:09:06 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:09:06 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:09:06 INFO : Try to find and read from remote workers.
13/07/28 05:09:06 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:09:06 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.500000' for reading
13/07/28 05:09:06 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:09:06 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:10:25 INFO local.LocalScheduler: Finished 0
13/07/28 05:10:25 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:10:25 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:10:25 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 79.823 s
13/07/28 05:10:25 INFO spark.SparkContext: Job finished: count at <console>:15, took 79.867323378 s
res0: Long = 88731

scala> 13/07/28 05:10:25 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:10:25 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:10:25 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:10:25 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:10:25 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:10:25 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:10:25 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:10:25 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:10:27,543 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:10:27,547 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:10:28,139 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:10:28,896 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:10:29,183 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:10:29,202 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:10:29,250 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:10:29,291 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:10:29,314 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:10:29,355 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:10:29,368 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:10:29,488 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:10:29,513 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:10:29,553 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:10:29,581 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:10:29,604 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

run1 #: 3

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
17080 tachyon.Master
17107 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:10:35 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:10:36 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:52474
Creating SparkContext...
13/07/28 05:10:45 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:10:45 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:10:45 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:10:45 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051045-7f05
13/07/28 05:10:45 INFO network.ConnectionManager: Bound socket to port 38402 with id = ConnectionManagerId(tachyon-ec2-0,38402)
13/07/28 05:10:45 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:10:45 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:38402 with 1295.4 MB RAM
13/07/28 05:10:45 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:10:45 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:10:45 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43277
13/07/28 05:10:45 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:43277
13/07/28 05:10:45 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:10:45 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-8abd1676-4b0c-4629-85bc-b4dd53ebdce1
13/07/28 05:10:45 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:10:45 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:39705
13/07/28 05:10:45 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:10:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:10:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:10:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:10:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:10:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:10:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:10:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:10:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:10:45 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:10:45 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1")
13/07/28 05:10:47 INFO storage.MemoryStore: ensureFreeSpace(58415) called with curMem=0, maxMem=1358297825
13/07/28 05:10:47 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.0 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:10:47 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:10:47 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:10:47 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:10:47 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:10:47 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:10:47 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:10:47 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:10:47 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:10:47 INFO : getFileStatus(/hit_data.tsv.1): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:10:48 INFO : tachyon.client.TachyonFS@2bd3782f s3n://2012-05-19-sample /hit_data.tsv.1 tachyon.PrefixList@48776c23
13/07/28 05:10:49 INFO : Create tachyon file /hit_data.tsv.1 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1
13/07/28 05:10:49 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:10:49 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:10:49 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:10:49 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:10:49 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:10:49 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:10:49 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:10:49 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:10:49 INFO local.LocalTaskSetManager: Size of task 0 is 1494 bytes
13/07/28 05:10:49 INFO local.LocalScheduler: Running 0
13/07/28 05:10:49 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:10:49 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:10:49 INFO : Try to find and read from remote workers.
13/07/28 05:10:49 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:10:49 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1' for reading
13/07/28 05:10:50 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:10:50 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:10:50 INFO local.LocalScheduler: Finished 0
13/07/28 05:10:50 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:10:50 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:10:50 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.458 s
13/07/28 05:10:50 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.504021372 s
res0: Long = 1

scala> 13/07/28 05:10:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:10:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:10:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:10:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:10:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:10:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:10:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:10:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:10:51,833 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:10:51,837 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:10:52,430 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:10:53,182 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:10:53,406 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:10:53,428 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:10:53,462 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:10:53,515 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:10:53,531 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:10:53,592 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:10:53,605 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:10:53,705 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:10:53,718 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:10:53,769 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:10:53,797 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:10:53,999 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
17642 tachyon.Master
17669 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:11:00 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:00 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:38053
Creating SparkContext...
13/07/28 05:11:09 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:11:09 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:11:09 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:11:09 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051109-74a3
13/07/28 05:11:09 INFO network.ConnectionManager: Bound socket to port 40485 with id = ConnectionManagerId(tachyon-ec2-0,40485)
13/07/28 05:11:09 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:11:09 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:40485 with 1295.4 MB RAM
13/07/28 05:11:09 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:11:09 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:09 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:59655
13/07/28 05:11:09 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:59655
13/07/28 05:11:09 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:11:10 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-39de9048-1cb1-42ba-9669-2cedfd2e2f54
13/07/28 05:11:10 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:10 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:51142
13/07/28 05:11:10 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:11:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:11:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:11:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:11:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:11:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:11:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:11:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:11:10 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:11:10 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100")
13/07/28 05:11:11 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:11:11 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:11:11 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:11:11 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:11:11 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:11:11 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:11:11 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:11:11 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:11:11 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:11:11 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:11:11 INFO : getFileStatus(/hit_data.tsv.100): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:11:12 INFO : tachyon.client.TachyonFS@4f4e6870 s3n://2012-05-19-sample /hit_data.tsv.100 tachyon.PrefixList@24aab9bd
13/07/28 05:11:13 INFO : Create tachyon file /hit_data.tsv.100 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100
13/07/28 05:11:13 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:11:13 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:11:13 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:11:13 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:11:13 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:11:13 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:11:13 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:11:13 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:11:14 INFO local.LocalTaskSetManager: Size of task 0 is 1496 bytes
13/07/28 05:11:14 INFO local.LocalScheduler: Running 0
13/07/28 05:11:14 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:11:14 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:11:14 INFO : Try to find and read from remote workers.
13/07/28 05:11:14 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:11:14 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100' for reading
13/07/28 05:11:14 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:11:14 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:11:14 INFO local.LocalScheduler: Finished 0
13/07/28 05:11:14 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:11:14 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:11:14 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.493 s
13/07/28 05:11:14 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.538431654 s
res0: Long = 100

scala> 13/07/28 05:11:14 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:11:14 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:11:14 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:11:14 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:11:14 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:11:14 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:11:14 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:11:14 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:11:16,199 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:11:16,202 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:11:16,790 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:11:17,548 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:11:17,684 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:11:17,701 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:11:17,734 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:11:17,762 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:11:17,778 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:11:17,828 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:11:17,845 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:11:17,942 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:11:17,955 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:11:17,990 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:11:18,021 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:11:18,036 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
18202 tachyon.Master
18229 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:11:24 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:24 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:46180
Creating SparkContext...
13/07/28 05:11:33 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:11:33 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:11:33 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:11:33 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051133-a471
13/07/28 05:11:33 INFO network.ConnectionManager: Bound socket to port 55887 with id = ConnectionManagerId(tachyon-ec2-0,55887)
13/07/28 05:11:33 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:11:33 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:55887 with 1295.4 MB RAM
13/07/28 05:11:33 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:11:33 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:33 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35787
13/07/28 05:11:33 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:35787
13/07/28 05:11:33 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:11:33 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-c884dda5-305b-47ba-b9d0-4737a47556a3
13/07/28 05:11:33 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:33 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:34201
13/07/28 05:11:33 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:11:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:11:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:11:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:11:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:11:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:11:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:11:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:11:33 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:11:33 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000")
13/07/28 05:11:35 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:11:35 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:11:35 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:11:35 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:11:35 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:11:35 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:11:35 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:11:35 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:11:35 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:11:35 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:11:35 INFO : getFileStatus(/hit_data.tsv.1000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:11:36 INFO : tachyon.client.TachyonFS@7b95aa1d s3n://2012-05-19-sample /hit_data.tsv.1000 tachyon.PrefixList@1ed3954e
13/07/28 05:11:37 INFO : Create tachyon file /hit_data.tsv.1000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1000
13/07/28 05:11:37 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:11:37 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:11:37 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:11:37 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:11:37 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:11:37 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:11:37 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:11:37 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:11:38 INFO local.LocalTaskSetManager: Size of task 0 is 1497 bytes
13/07/28 05:11:38 INFO local.LocalScheduler: Running 0
13/07/28 05:11:38 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:11:38 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:11:38 INFO : Try to find and read from remote workers.
13/07/28 05:11:38 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:11:38 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1000' for reading
13/07/28 05:11:38 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:11:38 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:11:38 INFO local.LocalScheduler: Finished 0
13/07/28 05:11:38 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:11:38 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:11:38 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.797 s
13/07/28 05:11:38 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.841873454 s
res0: Long = 1000

scala> 13/07/28 05:11:38 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:11:38 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:11:38 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:11:38 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:11:38 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:11:38 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:11:38 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:11:38 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:11:40,512 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:11:40,516 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:11:41,134 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:11:41,900 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:11:42,132 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:11:42,148 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:11:42,182 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:11:42,212 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:11:42,229 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:11:42,272 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:11:42,288 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:11:42,380 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:11:42,391 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:11:42,500 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:11:42,531 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:11:42,543 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
18764 tachyon.Master
18791 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:11:48 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:48 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:57197
Creating SparkContext...
13/07/28 05:11:58 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:11:58 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:11:58 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:11:58 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051158-db9a
13/07/28 05:11:58 INFO network.ConnectionManager: Bound socket to port 41623 with id = ConnectionManagerId(tachyon-ec2-0,41623)
13/07/28 05:11:58 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:11:58 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:41623 with 1295.4 MB RAM
13/07/28 05:11:58 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:11:58 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:58 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:48716
13/07/28 05:11:58 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:48716
13/07/28 05:11:58 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:11:58 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-b8aaa8f1-62ab-4d3a-8833-23686f1980b3
13/07/28 05:11:58 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:58 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:42729
13/07/28 05:11:58 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:11:58 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:11:58 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:11:58 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:11:58 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:11:58 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:11:58 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:11:58 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:11:58 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:11:58 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:11:58 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000")
13/07/28 05:11:59 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:11:59 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:12:00 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:12:00 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:12:00 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:12:00 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:12:00 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:12:00 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:12:00 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:12:00 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:12:00 INFO : getFileStatus(/hit_data.tsv.10000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.10000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:12:01 INFO : tachyon.client.TachyonFS@7e2e5d92 s3n://2012-05-19-sample /hit_data.tsv.10000 tachyon.PrefixList@16015cf6
13/07/28 05:12:02 INFO : Create tachyon file /hit_data.tsv.10000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.10000
13/07/28 05:12:02 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:12:02 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:12:02 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:12:02 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:12:02 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:12:02 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:12:02 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:12:02 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:12:02 INFO local.LocalTaskSetManager: Size of task 0 is 1498 bytes
13/07/28 05:12:02 INFO local.LocalScheduler: Running 0
13/07/28 05:12:02 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:12:02 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:12:02 INFO : Try to find and read from remote workers.
13/07/28 05:12:02 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:12:03 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.10000' for reading
13/07/28 05:12:03 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:12:03 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:12:04 INFO local.LocalScheduler: Finished 0
13/07/28 05:12:04 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:12:04 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:12:04 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 1.550 s
13/07/28 05:12:04 INFO spark.SparkContext: Job finished: count at <console>:15, took 1.595847763 s
res0: Long = 10000

scala> 13/07/28 05:12:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:12:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:12:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:12:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:12:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:12:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:12:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:12:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:12:05,939 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:12:05,943 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:12:06,547 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:12:07,310 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:12:07,420 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:12:07,431 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:12:07,462 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:12:07,489 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:12:07,500 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:12:07,535 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:12:07,546 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:12:07,627 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:12:07,640 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:12:07,668 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:12:07,863 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:12:07,876 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
19329 tachyon.Master
19356 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:12:14 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:12:14 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:52056
Creating SparkContext...
13/07/28 05:12:23 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:12:23 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:12:23 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:12:23 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051223-4072
13/07/28 05:12:23 INFO network.ConnectionManager: Bound socket to port 49267 with id = ConnectionManagerId(tachyon-ec2-0,49267)
13/07/28 05:12:23 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:12:23 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:49267 with 1295.4 MB RAM
13/07/28 05:12:23 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:12:23 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:12:23 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:50018
13/07/28 05:12:23 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:50018
13/07/28 05:12:23 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:12:23 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-010b9c17-f567-4c2a-91df-a3bc9c837e65
13/07/28 05:12:23 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:12:23 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:40743
13/07/28 05:12:23 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:12:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:12:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:12:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:12:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:12:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:12:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:12:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:12:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:12:23 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:12:23 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000")
13/07/28 05:12:25 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:12:25 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:12:25 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:12:25 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:12:25 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:12:25 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:12:25 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:12:25 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:12:25 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:12:25 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:12:25 INFO : getFileStatus(/hit_data.tsv.100000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:12:26 INFO : tachyon.client.TachyonFS@4da8bb5d s3n://2012-05-19-sample /hit_data.tsv.100000 tachyon.PrefixList@a4fe80
13/07/28 05:12:27 INFO : Create tachyon file /hit_data.tsv.100000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100000
13/07/28 05:12:27 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:12:27 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:12:27 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:12:27 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:12:27 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:12:27 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:12:27 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:12:27 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:12:28 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:12:28 INFO local.LocalScheduler: Running 0
13/07/28 05:12:28 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:12:28 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:12:28 INFO : Try to find and read from remote workers.
13/07/28 05:12:28 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:12:28 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100000' for reading
13/07/28 05:12:28 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:12:28 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:12:35 INFO local.LocalScheduler: Finished 0
13/07/28 05:12:35 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:12:35 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:12:35 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 7.710 s
13/07/28 05:12:35 INFO spark.SparkContext: Job finished: count at <console>:15, took 7.753844219 s
res0: Long = 100002

scala> 13/07/28 05:12:35 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:12:35 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:12:35 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:12:35 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:12:35 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:12:35 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:12:35 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:12:35 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:12:37,430 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:12:37,434 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:12:38,036 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:12:38,788 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:12:38,896 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:12:38,907 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:12:38,938 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:12:38,964 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:12:38,974 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:12:39,012 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:12:39,025 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:12:39,103 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:12:39,116 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:12:39,143 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:12:39,168 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:12:39,182 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
19921 tachyon.Master
19948 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:12:45 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:12:45 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:56210
Creating SparkContext...
13/07/28 05:12:54 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:12:54 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:12:54 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:12:54 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051254-9ef7
13/07/28 05:12:54 INFO network.ConnectionManager: Bound socket to port 57797 with id = ConnectionManagerId(tachyon-ec2-0,57797)
13/07/28 05:12:54 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:12:54 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:57797 with 1295.4 MB RAM
13/07/28 05:12:54 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:12:54 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:12:54 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:53388
13/07/28 05:12:54 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:53388
13/07/28 05:12:54 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:12:54 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-516f454d-aebc-4a42-9b90-6e4ed07e462c
13/07/28 05:12:54 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:12:54 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:55759
13/07/28 05:12:55 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:12:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:12:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:12:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:12:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:12:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:12:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:12:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:12:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:12:55 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:12:55 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000")
13/07/28 05:12:56 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:12:56 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:12:56 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:12:56 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:12:56 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:12:56 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:12:56 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:12:56 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:12:56 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:12:56 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:12:56 INFO : getFileStatus(/hit_data.tsv.500000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.500000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:12:57 INFO : tachyon.client.TachyonFS@6bc41ec9 s3n://2012-05-19-sample /hit_data.tsv.500000 tachyon.PrefixList@18c15565
13/07/28 05:12:58 INFO : Create tachyon file /hit_data.tsv.500000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.500000
13/07/28 05:12:58 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:12:58 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:12:59 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:12:59 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:12:59 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:12:59 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:12:59 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:12:59 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:12:59 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:12:59 INFO local.LocalScheduler: Running 0
13/07/28 05:12:59 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:12:59 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:12:59 INFO : Try to find and read from remote workers.
13/07/28 05:12:59 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:12:59 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.500000' for reading
13/07/28 05:12:59 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:12:59 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:13:36 INFO local.LocalScheduler: Finished 0
13/07/28 05:13:36 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:13:36 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:13:36 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 37.385 s
13/07/28 05:13:36 INFO spark.SparkContext: Job finished: count at <console>:15, took 37.42879725 s
res0: Long = 500094

scala> 13/07/28 05:13:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:13:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:13:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:13:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:13:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:13:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:13:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:13:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:13:38,280 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:13:38,284 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:13:38,872 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:13:39,629 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:13:39,762 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:13:39,779 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:13:39,814 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:13:39,845 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:13:39,862 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:13:39,911 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:13:39,930 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:13:40,027 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:13:40,040 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:13:40,078 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:13:40,112 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:13:40,124 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

run1 #: 4

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
20637 tachyon.Master
20664 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:13:46 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:13:46 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:34195
Creating SparkContext...
13/07/28 05:13:55 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:13:55 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:13:56 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:13:56 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051356-0aad
13/07/28 05:13:56 INFO network.ConnectionManager: Bound socket to port 53379 with id = ConnectionManagerId(tachyon-ec2-0,53379)
13/07/28 05:13:56 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:13:56 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:53379 with 1295.4 MB RAM
13/07/28 05:13:56 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:13:56 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:13:56 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43003
13/07/28 05:13:56 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:43003
13/07/28 05:13:56 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:13:56 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-7aac1e98-3f2a-4a1e-b784-2498b00613e1
13/07/28 05:13:56 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:13:56 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:56052
13/07/28 05:13:56 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:13:56 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:13:56 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:13:56 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:13:56 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:13:56 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:13:56 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:13:56 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:13:56 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:13:56 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:13:56 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1")
13/07/28 05:13:57 INFO storage.MemoryStore: ensureFreeSpace(58415) called with curMem=0, maxMem=1358297825
13/07/28 05:13:57 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.0 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:13:57 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:13:57 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:13:57 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:13:57 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:13:57 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:13:57 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:13:57 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:13:57 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:13:57 INFO : getFileStatus(/hit_data.tsv.1): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:13:58 INFO : tachyon.client.TachyonFS@54ef43b1 s3n://2012-05-19-sample /hit_data.tsv.1 tachyon.PrefixList@28454507
13/07/28 05:13:59 INFO : Create tachyon file /hit_data.tsv.1 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1
13/07/28 05:13:59 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:14:00 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:14:00 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:14:00 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:14:00 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:14:00 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:14:00 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:14:00 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:14:00 INFO local.LocalTaskSetManager: Size of task 0 is 1494 bytes
13/07/28 05:14:00 INFO local.LocalScheduler: Running 0
13/07/28 05:14:00 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:14:00 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:14:00 INFO : Try to find and read from remote workers.
13/07/28 05:14:00 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:14:00 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1' for reading
13/07/28 05:14:00 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:14:00 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:14:00 INFO local.LocalScheduler: Finished 0
13/07/28 05:14:00 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:14:00 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:14:00 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.494 s
13/07/28 05:14:00 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.537991191 s
res0: Long = 1

scala> 13/07/28 05:14:00 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:14:00 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:14:00 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:14:00 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:14:00 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:14:00 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:14:00 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:14:00 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:14:02,340 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:14:02,344 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:14:02,953 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:14:03,697 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:14:03,841 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:14:03,853 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:14:03,883 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:14:03,909 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:14:03,923 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:14:03,960 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:14:03,972 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:14:04,052 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:14:04,065 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:14:04,096 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:14:04,122 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:14:04,137 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
21197 tachyon.Master
21224 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:14:10 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:14:10 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43619
Creating SparkContext...
13/07/28 05:14:19 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:14:19 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:14:19 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:14:19 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051419-e70a
13/07/28 05:14:19 INFO network.ConnectionManager: Bound socket to port 57546 with id = ConnectionManagerId(tachyon-ec2-0,57546)
13/07/28 05:14:19 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:14:19 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:57546 with 1295.4 MB RAM
13/07/28 05:14:19 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:14:19 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:14:19 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:33200
13/07/28 05:14:19 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:33200
13/07/28 05:14:19 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:14:19 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-cd852b73-b811-4096-b06a-e5f4c4f9e5e8
13/07/28 05:14:19 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:14:19 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:37603
13/07/28 05:14:19 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:14:19 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:14:19 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:14:19 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:14:19 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:14:19 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:14:19 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:14:19 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:14:19 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:14:19 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:14:19 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100")
13/07/28 05:14:21 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:14:21 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:14:21 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:14:21 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:14:21 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:14:21 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:14:21 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:14:21 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:14:21 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:14:21 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:14:21 INFO : getFileStatus(/hit_data.tsv.100): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:14:22 INFO : tachyon.client.TachyonFS@1ee13f9e s3n://2012-05-19-sample /hit_data.tsv.100 tachyon.PrefixList@5617ade8
13/07/28 05:14:23 INFO : Create tachyon file /hit_data.tsv.100 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100
13/07/28 05:14:23 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:14:23 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:14:23 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:14:23 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:14:23 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:14:23 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:14:23 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:14:23 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:14:23 INFO local.LocalTaskSetManager: Size of task 0 is 1496 bytes
13/07/28 05:14:23 INFO local.LocalScheduler: Running 0
13/07/28 05:14:23 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:14:24 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:14:24 INFO : Try to find and read from remote workers.
13/07/28 05:14:24 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:14:24 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100' for reading
13/07/28 05:14:24 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:14:24 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:14:24 INFO local.LocalScheduler: Finished 0
13/07/28 05:14:24 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:14:24 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:14:24 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.486 s
13/07/28 05:14:24 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.530253938 s
res0: Long = 100

scala> 13/07/28 05:14:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:14:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:14:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:14:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:14:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:14:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:14:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:14:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:14:26,049 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:14:26,053 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:14:26,645 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:14:27,385 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:14:27,503 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:14:27,515 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:14:27,547 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:14:27,575 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:14:27,586 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:14:27,621 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:14:27,632 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:14:27,713 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:14:27,726 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:14:27,756 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:14:27,782 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:14:27,795 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
21757 tachyon.Master
21784 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:14:34 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:14:34 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:52818
Creating SparkContext...
13/07/28 05:14:43 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:14:43 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:14:43 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:14:43 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051443-f045
13/07/28 05:14:43 INFO network.ConnectionManager: Bound socket to port 52006 with id = ConnectionManagerId(tachyon-ec2-0,52006)
13/07/28 05:14:43 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:14:43 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:52006 with 1295.4 MB RAM
13/07/28 05:14:43 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:14:43 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:14:43 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:41387
13/07/28 05:14:43 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:41387
13/07/28 05:14:43 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:14:43 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-6bd843bd-5833-4a37-b73d-1279aa60fd99
13/07/28 05:14:43 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:14:43 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:37881
13/07/28 05:14:43 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:14:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:14:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:14:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:14:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:14:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:14:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:14:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:14:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:14:43 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:14:43 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000")
13/07/28 05:14:45 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:14:45 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:14:45 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:14:45 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:14:45 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:14:45 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:14:45 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:14:45 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:14:45 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:14:45 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:14:45 INFO : getFileStatus(/hit_data.tsv.1000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:14:46 INFO : tachyon.client.TachyonFS@dfee802 s3n://2012-05-19-sample /hit_data.tsv.1000 tachyon.PrefixList@5a31e27b
13/07/28 05:14:47 INFO : Create tachyon file /hit_data.tsv.1000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1000
13/07/28 05:14:47 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:14:47 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:14:47 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:14:47 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:14:47 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:14:47 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:14:47 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:14:47 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:14:47 INFO local.LocalTaskSetManager: Size of task 0 is 1497 bytes
13/07/28 05:14:47 INFO local.LocalScheduler: Running 0
13/07/28 05:14:47 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:14:47 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:14:47 INFO : Try to find and read from remote workers.
13/07/28 05:14:47 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:14:48 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1000' for reading
13/07/28 05:14:48 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:14:48 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:14:48 INFO local.LocalScheduler: Finished 0
13/07/28 05:14:48 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:14:48 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:14:48 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.705 s
13/07/28 05:14:48 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.749791737 s
res0: Long = 1000

scala> 13/07/28 05:14:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:14:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:14:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:14:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:14:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:14:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:14:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:14:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:14:50,081 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:14:50,085 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:14:50,674 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:14:51,597 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:14:51,709 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:14:51,723 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:14:51,763 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:14:51,791 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:14:51,803 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:14:51,841 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:14:51,854 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:14:51,935 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:14:51,947 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:14:51,979 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:14:52,004 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:14:52,016 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
22319 tachyon.Master
22346 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:14:58 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:14:58 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:45803
Creating SparkContext...
13/07/28 05:15:07 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:15:07 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:15:07 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:15:07 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051507-6c66
13/07/28 05:15:07 INFO network.ConnectionManager: Bound socket to port 59826 with id = ConnectionManagerId(tachyon-ec2-0,59826)
13/07/28 05:15:07 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:15:07 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:59826 with 1295.4 MB RAM
13/07/28 05:15:07 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:15:07 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:15:07 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:42228
13/07/28 05:15:07 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:42228
13/07/28 05:15:07 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:15:07 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-143bdee9-8819-4ba4-b754-dcfaeb60fad0
13/07/28 05:15:07 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:15:07 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36482
13/07/28 05:15:07 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:15:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:15:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:15:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:15:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:15:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:15:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:15:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:15:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:15:07 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:15:07 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000")
13/07/28 05:15:09 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:15:09 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:15:09 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:15:09 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:15:09 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:15:09 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:15:09 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:15:09 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:15:09 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:15:09 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:15:09 INFO : getFileStatus(/hit_data.tsv.10000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.10000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:15:10 INFO : tachyon.client.TachyonFS@7e2e5d92 s3n://2012-05-19-sample /hit_data.tsv.10000 tachyon.PrefixList@16015cf6
13/07/28 05:15:11 INFO : Create tachyon file /hit_data.tsv.10000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.10000
13/07/28 05:15:11 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:15:12 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:15:12 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:15:12 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:15:12 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:15:12 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:15:12 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:15:12 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:15:12 INFO local.LocalTaskSetManager: Size of task 0 is 1498 bytes
13/07/28 05:15:12 INFO local.LocalScheduler: Running 0
13/07/28 05:15:12 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:15:12 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:15:12 INFO : Try to find and read from remote workers.
13/07/28 05:15:12 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:15:12 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.10000' for reading
13/07/28 05:15:12 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:15:12 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:15:19 INFO local.LocalScheduler: Finished 0
13/07/28 05:15:19 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:15:19 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:15:19 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 7.210 s
13/07/28 05:15:19 INFO spark.SparkContext: Job finished: count at <console>:15, took 7.253997461 s
res0: Long = 10000

scala> 13/07/28 05:15:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:15:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:15:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:15:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:15:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:15:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:15:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:15:19 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:15:20,972 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:15:20,976 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:15:21,567 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:15:22,351 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:15:22,529 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:15:22,548 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:15:22,607 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:15:22,690 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:15:22,716 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:15:22,783 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:15:22,809 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:15:22,930 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:15:22,947 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:15:23,002 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:15:23,048 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:15:23,065 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
22894 tachyon.Master
22921 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:15:29 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:15:29 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44523
Creating SparkContext...
13/07/28 05:15:38 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:15:38 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:15:38 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:15:38 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051538-928e
13/07/28 05:15:38 INFO network.ConnectionManager: Bound socket to port 58548 with id = ConnectionManagerId(tachyon-ec2-0,58548)
13/07/28 05:15:38 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:15:38 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:58548 with 1295.4 MB RAM
13/07/28 05:15:38 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:15:38 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:15:38 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:57188
13/07/28 05:15:38 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:57188
13/07/28 05:15:38 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:15:38 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-72229a68-d794-46f4-acd0-5d0a6dfdd3fd
13/07/28 05:15:38 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:15:38 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:39312
13/07/28 05:15:38 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:15:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:15:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:15:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:15:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:15:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:15:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:15:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:15:38 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:15:38 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:15:38 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000")
13/07/28 05:15:40 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:15:40 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:15:40 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:15:40 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:15:40 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:15:40 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:15:40 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:15:40 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:15:40 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:15:40 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:15:40 INFO : getFileStatus(/hit_data.tsv.100000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:15:41 INFO : tachyon.client.TachyonFS@32ab0d66 s3n://2012-05-19-sample /hit_data.tsv.100000 tachyon.PrefixList@7bfcbd86
13/07/28 05:15:43 INFO : Create tachyon file /hit_data.tsv.100000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100000
13/07/28 05:15:43 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:15:43 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:15:43 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:15:43 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:15:43 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:15:43 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:15:43 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:15:43 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:15:43 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:15:43 INFO local.LocalScheduler: Running 0
13/07/28 05:15:43 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:15:43 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:15:43 INFO : Try to find and read from remote workers.
13/07/28 05:15:43 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:15:43 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100000' for reading
13/07/28 05:15:43 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:15:43 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:17:10 INFO local.LocalScheduler: Finished 0
13/07/28 05:17:10 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:17:10 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:17:10 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 87.354 s
13/07/28 05:17:10 INFO spark.SparkContext: Job finished: count at <console>:15, took 87.397804458 s
res0: Long = 100002

scala> 13/07/28 05:17:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:17:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:17:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:17:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:17:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:17:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:17:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:17:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:17:12,332 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:17:12,336 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:17:12,925 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:17:13,694 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:17:13,847 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:17:13,861 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:17:13,892 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:17:13,921 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:17:13,936 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:17:13,977 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:17:13,991 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:17:14,084 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:17:14,097 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:17:14,130 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:17:14,160 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:17:14,172 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
23651 tachyon.Master
23678 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:17:20 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:17:20 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35394
Creating SparkContext...
13/07/28 05:17:29 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:17:29 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:17:29 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:17:29 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051729-f1cf
13/07/28 05:17:29 INFO network.ConnectionManager: Bound socket to port 37352 with id = ConnectionManagerId(tachyon-ec2-0,37352)
13/07/28 05:17:29 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:17:29 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:37352 with 1295.4 MB RAM
13/07/28 05:17:29 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:17:30 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:17:30 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:49172
13/07/28 05:17:30 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:49172
13/07/28 05:17:30 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:17:30 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-4e2467a7-3c1d-469a-9361-26cbd6915f91
13/07/28 05:17:30 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:17:30 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:58226
13/07/28 05:17:30 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:17:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:17:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:17:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:17:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:17:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:17:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:17:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:17:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:17:30 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:17:30 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000")
13/07/28 05:17:31 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:17:31 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:17:31 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:17:31 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:17:31 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:17:31 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:17:31 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:17:31 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:17:31 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:17:31 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:17:31 INFO : getFileStatus(/hit_data.tsv.500000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.500000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:17:32 INFO : tachyon.client.TachyonFS@6d7c5d00 s3n://2012-05-19-sample /hit_data.tsv.500000 tachyon.PrefixList@7fbde327
13/07/28 05:17:33 INFO : Create tachyon file /hit_data.tsv.500000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.500000
13/07/28 05:17:33 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:17:34 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:17:34 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:17:34 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:17:34 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:17:34 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:17:34 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:17:34 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:17:34 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:17:34 INFO local.LocalScheduler: Running 0
13/07/28 05:17:34 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:17:34 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:17:34 INFO : Try to find and read from remote workers.
13/07/28 05:17:34 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:17:34 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.500000' for reading
13/07/28 05:17:34 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:17:34 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:18:10 INFO local.LocalScheduler: Finished 0
13/07/28 05:18:10 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:18:10 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:18:10 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 36.342 s
13/07/28 05:18:10 INFO spark.SparkContext: Job finished: count at <console>:15, took 36.386007987 s
res0: Long = 500094

scala> 13/07/28 05:18:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:18:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:18:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:18:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:18:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:18:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:18:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:18:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:18:12,284 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:18:12,287 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:18:12,876 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:18:13,618 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:18:13,749 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:18:13,764 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:18:13,799 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:18:13,828 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:18:13,843 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:18:13,886 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:18:13,900 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:18:13,991 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:18:14,003 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:18:14,034 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:18:14,065 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:18:14,076 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

run1 #: 5

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
24365 tachyon.Master
24392 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:18:21 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:18:21 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:39241
Creating SparkContext...
13/07/28 05:18:33 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:18:33 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:18:33 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:18:33 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051833-3125
13/07/28 05:18:33 INFO network.ConnectionManager: Bound socket to port 43809 with id = ConnectionManagerId(tachyon-ec2-0,43809)
13/07/28 05:18:33 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:18:33 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:43809 with 1295.4 MB RAM
13/07/28 05:18:33 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:18:33 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:18:33 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:45772
13/07/28 05:18:33 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:45772
13/07/28 05:18:33 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:18:33 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-7dd0a3e8-2cef-4d1e-afeb-679284c05c43
13/07/28 05:18:33 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:18:33 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36055
13/07/28 05:18:33 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:18:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:18:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:18:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:18:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:18:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:18:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:18:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:18:33 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:18:33 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:18:33 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1")
13/07/28 05:18:35 INFO storage.MemoryStore: ensureFreeSpace(58415) called with curMem=0, maxMem=1358297825
13/07/28 05:18:35 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.0 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:18:36 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:18:36 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:18:36 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:18:36 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:18:36 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:18:36 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:18:36 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:18:36 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:18:36 INFO : getFileStatus(/hit_data.tsv.1): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:18:37 INFO : tachyon.client.TachyonFS@2bd3782f s3n://2012-05-19-sample /hit_data.tsv.1 tachyon.PrefixList@48776c23
13/07/28 05:18:38 INFO : Create tachyon file /hit_data.tsv.1 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1
13/07/28 05:18:38 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:18:38 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:18:38 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:18:38 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:18:38 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:18:38 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:18:38 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:18:39 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:18:39 INFO local.LocalTaskSetManager: Size of task 0 is 1494 bytes
13/07/28 05:18:39 INFO local.LocalScheduler: Running 0
13/07/28 05:18:39 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:18:39 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:18:39 INFO : Try to find and read from remote workers.
13/07/28 05:18:39 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:18:39 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1' for reading
13/07/28 05:18:39 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:18:39 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:18:39 INFO local.LocalScheduler: Finished 0
13/07/28 05:18:39 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:18:39 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:18:39 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.588 s
13/07/28 05:18:39 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.645819184 s
res0: Long = 1

scala> 13/07/28 05:18:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:18:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:18:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:18:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:18:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:18:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:18:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:18:39 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:18:41,619 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:18:41,624 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:18:42,392 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:18:43,386 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:18:43,602 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:18:43,620 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:18:43,666 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:18:43,698 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:18:43,713 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:18:43,761 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:18:43,778 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:18:43,932 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:18:43,947 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:18:43,990 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:18:44,024 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:18:44,038 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
24933 tachyon.Master
24960 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:18:51 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:18:51 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:42484
Creating SparkContext...
13/07/28 05:19:00 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:19:00 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:19:00 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:19:00 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051900-f991
13/07/28 05:19:00 INFO network.ConnectionManager: Bound socket to port 38685 with id = ConnectionManagerId(tachyon-ec2-0,38685)
13/07/28 05:19:00 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:19:00 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:38685 with 1295.4 MB RAM
13/07/28 05:19:00 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:19:00 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:19:00 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36804
13/07/28 05:19:00 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:36804
13/07/28 05:19:00 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:19:00 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-0f0aa074-384b-4410-8e7b-097e9438989a
13/07/28 05:19:00 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:19:00 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36492
13/07/28 05:19:00 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:19:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:19:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:19:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:19:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:19:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:19:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:19:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:19:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:19:00 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:19:00 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100")
13/07/28 05:19:02 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:19:02 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:19:02 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:19:02 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:19:02 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:19:02 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:19:02 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:19:02 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:19:02 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:19:02 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:19:02 INFO : getFileStatus(/hit_data.tsv.100): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:19:03 INFO : tachyon.client.TachyonFS@54f45460 s3n://2012-05-19-sample /hit_data.tsv.100 tachyon.PrefixList@74cf9632
13/07/28 05:19:04 INFO : Create tachyon file /hit_data.tsv.100 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100
13/07/28 05:19:04 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:19:04 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:19:04 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:19:04 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:19:04 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:19:04 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:19:04 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:19:04 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:19:04 INFO local.LocalTaskSetManager: Size of task 0 is 1496 bytes
13/07/28 05:19:04 INFO local.LocalScheduler: Running 0
13/07/28 05:19:05 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:19:05 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:19:05 INFO : Try to find and read from remote workers.
13/07/28 05:19:05 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:19:05 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100' for reading
13/07/28 05:19:05 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:19:05 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:19:05 INFO local.LocalScheduler: Finished 0
13/07/28 05:19:05 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:19:05 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:19:05 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.460 s
13/07/28 05:19:05 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.504089133 s
res0: Long = 100

scala> 13/07/28 05:19:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:19:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:19:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:19:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:19:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:19:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:19:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:19:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:19:07,065 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:19:07,069 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:19:07,658 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:19:08,412 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:19:08,607 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:19:08,631 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:19:08,719 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:19:08,748 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:19:08,773 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:19:08,839 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:19:08,940 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:19:09,063 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:19:09,084 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:19:09,120 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:19:09,361 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:19:09,390 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
25494 tachyon.Master
25521 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:19:15 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:19:15 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:38508
Creating SparkContext...
13/07/28 05:19:24 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:19:25 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:19:25 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:19:25 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051925-9f3e
13/07/28 05:19:25 INFO network.ConnectionManager: Bound socket to port 52624 with id = ConnectionManagerId(tachyon-ec2-0,52624)
13/07/28 05:19:25 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:19:25 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:52624 with 1295.4 MB RAM
13/07/28 05:19:25 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:19:25 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:19:25 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:59023
13/07/28 05:19:25 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:59023
13/07/28 05:19:25 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:19:25 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-62ab0995-23ad-4276-932f-bcd063f68fd3
13/07/28 05:19:25 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:19:25 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:41843
13/07/28 05:19:25 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:19:25 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:19:25 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:19:25 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:19:25 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:19:25 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:19:25 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:19:25 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:19:25 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:19:25 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:19:25 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000")
13/07/28 05:19:26 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:19:26 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:19:26 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:19:26 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:19:26 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:19:26 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:19:27 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:19:27 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:19:27 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:19:27 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:19:27 INFO : getFileStatus(/hit_data.tsv.1000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:19:27 INFO : tachyon.client.TachyonFS@6f6d1fb s3n://2012-05-19-sample /hit_data.tsv.1000 tachyon.PrefixList@3653b94f
13/07/28 05:19:29 INFO : Create tachyon file /hit_data.tsv.1000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1000
13/07/28 05:19:29 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:19:29 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:19:29 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:19:29 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:19:29 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:19:29 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:19:29 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:19:29 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:19:29 INFO local.LocalTaskSetManager: Size of task 0 is 1497 bytes
13/07/28 05:19:29 INFO local.LocalScheduler: Running 0
13/07/28 05:19:29 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:19:29 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:19:29 INFO : Try to find and read from remote workers.
13/07/28 05:19:29 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:19:29 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1000' for reading
13/07/28 05:19:29 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:19:29 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:19:30 INFO local.LocalScheduler: Finished 0
13/07/28 05:19:30 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:19:30 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:19:30 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.789 s
13/07/28 05:19:30 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.833414331 s
res0: Long = 1000

scala> 13/07/28 05:19:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:19:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:19:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:19:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:19:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:19:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:19:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:19:30 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:19:31,769 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:19:31,773 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:19:32,364 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:19:33,106 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:19:33,261 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:19:33,279 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:19:33,319 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:19:33,423 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:19:33,440 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:19:33,484 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:19:33,515 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:19:33,623 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:19:33,640 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:19:33,687 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:19:33,720 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:19:33,734 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
26055 tachyon.Master
26082 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:19:40 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:19:40 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36858
Creating SparkContext...
13/07/28 05:19:49 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:19:49 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:19:49 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:19:49 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728051949-3376
13/07/28 05:19:49 INFO network.ConnectionManager: Bound socket to port 33289 with id = ConnectionManagerId(tachyon-ec2-0,33289)
13/07/28 05:19:49 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:19:49 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:33289 with 1295.4 MB RAM
13/07/28 05:19:49 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:19:49 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:19:49 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:50783
13/07/28 05:19:49 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:50783
13/07/28 05:19:49 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:19:49 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-a8aa773f-d1f0-4b7f-abde-327fe676a4ab
13/07/28 05:19:49 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:19:49 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43974
13/07/28 05:19:49 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:19:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:19:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:19:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:19:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:19:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:19:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:19:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:19:49 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:19:49 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:19:49 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000")
13/07/28 05:19:50 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:19:50 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:19:51 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:19:51 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:19:51 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:19:51 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:19:51 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:19:51 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:19:51 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:19:51 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:19:51 INFO : getFileStatus(/hit_data.tsv.10000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.10000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:19:52 INFO : tachyon.client.TachyonFS@dfee802 s3n://2012-05-19-sample /hit_data.tsv.10000 tachyon.PrefixList@5a31e27b
13/07/28 05:19:53 INFO : Create tachyon file /hit_data.tsv.10000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.10000
13/07/28 05:19:53 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:19:53 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:19:53 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:19:53 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:19:53 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:19:53 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:19:53 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:19:53 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:19:53 INFO local.LocalTaskSetManager: Size of task 0 is 1498 bytes
13/07/28 05:19:53 INFO local.LocalScheduler: Running 0
13/07/28 05:19:53 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:19:53 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:19:53 INFO : Try to find and read from remote workers.
13/07/28 05:19:53 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:19:53 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.10000' for reading
13/07/28 05:19:54 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:19:54 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:19:54 INFO local.LocalScheduler: Finished 0
13/07/28 05:19:54 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:19:54 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:19:54 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 1.204 s
13/07/28 05:19:54 INFO spark.SparkContext: Job finished: count at <console>:15, took 1.249526704 s
res0: Long = 10000

scala> 13/07/28 05:19:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:19:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:19:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:19:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:19:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:19:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:19:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:19:54 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:19:56,550 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:19:56,554 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:19:57,145 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:19:57,891 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:19:58,049 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:19:58,067 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:19:58,117 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:19:58,146 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:19:58,163 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:19:58,214 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:19:58,228 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:19:58,405 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:19:58,419 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:19:58,464 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:19:58,502 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:19:58,516 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
26618 tachyon.Master
26645 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:20:04 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:20:04 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54509
Creating SparkContext...
13/07/28 05:20:14 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:20:14 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:20:14 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:20:14 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052014-94a5
13/07/28 05:20:14 INFO network.ConnectionManager: Bound socket to port 54256 with id = ConnectionManagerId(tachyon-ec2-0,54256)
13/07/28 05:20:14 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:20:14 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:54256 with 1295.4 MB RAM
13/07/28 05:20:14 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:20:14 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:20:14 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54634
13/07/28 05:20:14 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:54634
13/07/28 05:20:14 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:20:14 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-a1b1cff6-8f67-42bd-9be1-9760ea970814
13/07/28 05:20:14 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:20:14 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:48495
13/07/28 05:20:14 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:20:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:20:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:20:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:20:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:20:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:20:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:20:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:20:14 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:20:14 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:20:14 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000")
13/07/28 05:20:15 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:20:15 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:20:16 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:20:16 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:20:16 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:20:16 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:20:16 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:20:16 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:20:16 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:20:16 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:20:16 INFO : getFileStatus(/hit_data.tsv.100000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:20:17 INFO : tachyon.client.TachyonFS@5617ade8 s3n://2012-05-19-sample /hit_data.tsv.100000 tachyon.PrefixList@2c9a8680
13/07/28 05:20:18 INFO : Create tachyon file /hit_data.tsv.100000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100000
13/07/28 05:20:18 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:20:18 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:20:18 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:20:18 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:20:18 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:20:18 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:20:18 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:20:18 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:20:18 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:20:18 INFO local.LocalScheduler: Running 0
13/07/28 05:20:18 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:20:18 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:20:18 INFO : Try to find and read from remote workers.
13/07/28 05:20:18 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:20:18 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100000' for reading
13/07/28 05:20:18 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:20:18 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:20:26 INFO local.LocalScheduler: Finished 0
13/07/28 05:20:26 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:20:26 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:20:26 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 7.539 s
13/07/28 05:20:26 INFO spark.SparkContext: Job finished: count at <console>:15, took 7.582943837 s
res0: Long = 100002

scala> 13/07/28 05:20:26 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:20:26 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:20:26 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:20:26 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:20:26 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:20:26 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:20:26 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:20:26 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:20:27,766 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:20:27,770 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:20:28,363 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:20:29,109 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:20:29,239 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:20:29,257 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:20:29,289 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:20:29,318 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:20:29,332 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:20:29,378 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:20:29,393 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:20:29,491 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:20:29,502 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:20:29,535 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:20:29,566 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:20:29,580 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
27209 tachyon.Master
27236 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:20:35 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:20:35 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36930
Creating SparkContext...
13/07/28 05:20:45 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:20:45 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:20:45 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:20:45 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052045-0351
13/07/28 05:20:45 INFO network.ConnectionManager: Bound socket to port 56085 with id = ConnectionManagerId(tachyon-ec2-0,56085)
13/07/28 05:20:45 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:20:45 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:56085 with 1295.4 MB RAM
13/07/28 05:20:45 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:20:45 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:20:45 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:32847
13/07/28 05:20:45 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:32847
13/07/28 05:20:45 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:20:45 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-853d7702-c084-4b22-8f15-d4b593b67b1c
13/07/28 05:20:45 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:20:45 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54713
13/07/28 05:20:45 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:20:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:20:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:20:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:20:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:20:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:20:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:20:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:20:45 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:20:45 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:20:45 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000")
13/07/28 05:20:46 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:20:46 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:20:47 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:20:47 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:20:47 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:20:47 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:20:47 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:20:47 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:20:47 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:20:47 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:20:47 INFO : getFileStatus(/hit_data.tsv.500000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.500000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:20:48 INFO : tachyon.client.TachyonFS@4b29228d s3n://2012-05-19-sample /hit_data.tsv.500000 tachyon.PrefixList@799b7d87
13/07/28 05:20:49 INFO : Create tachyon file /hit_data.tsv.500000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.500000
13/07/28 05:20:49 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:20:49 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:20:49 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:20:49 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:20:49 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:20:49 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:20:49 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:20:49 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:20:49 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:20:49 INFO local.LocalScheduler: Running 0
13/07/28 05:20:49 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:20:49 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:20:49 INFO : Try to find and read from remote workers.
13/07/28 05:20:49 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:20:49 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.500000' for reading
13/07/28 05:20:49 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:20:49 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:21:23 INFO local.LocalScheduler: Finished 0
13/07/28 05:21:23 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:21:24 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:21:24 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 34.485 s
13/07/28 05:21:24 INFO spark.SparkContext: Job finished: count at <console>:15, took 34.5294016 s
res0: Long = 500094

scala> 13/07/28 05:21:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:21:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:21:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:21:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:21:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:21:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:21:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:21:24 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:21:25,858 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:21:25,862 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:21:26,451 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:21:27,211 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:21:27,338 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:21:27,349 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:21:27,380 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:21:27,405 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:21:27,417 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:21:27,457 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:21:27,469 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:21:27,551 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:21:27,563 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:21:27,592 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:21:27,616 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:21:27,630 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

run1 #: 6

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
27916 tachyon.Master
27943 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:21:33 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:21:33 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:33974
Creating SparkContext...
13/07/28 05:21:43 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:21:43 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:21:43 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:21:43 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052143-296e
13/07/28 05:21:43 INFO network.ConnectionManager: Bound socket to port 35383 with id = ConnectionManagerId(tachyon-ec2-0,35383)
13/07/28 05:21:43 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:21:43 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:35383 with 1295.4 MB RAM
13/07/28 05:21:43 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:21:43 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:21:43 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:40271
13/07/28 05:21:43 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:40271
13/07/28 05:21:43 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:21:43 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-14bcac65-dba4-450a-b267-5b7326c2a780
13/07/28 05:21:43 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:21:43 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:55236
13/07/28 05:21:43 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:21:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:21:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:21:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:21:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:21:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:21:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:21:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:21:43 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:21:43 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:21:43 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1")
13/07/28 05:21:45 INFO storage.MemoryStore: ensureFreeSpace(58415) called with curMem=0, maxMem=1358297825
13/07/28 05:21:45 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.0 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:21:45 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:21:45 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:21:45 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:21:45 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:21:45 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:21:45 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:21:45 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:21:45 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:21:45 INFO : getFileStatus(/hit_data.tsv.1): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:21:46 INFO : tachyon.client.TachyonFS@5bb6e338 s3n://2012-05-19-sample /hit_data.tsv.1 tachyon.PrefixList@43ffa092
13/07/28 05:21:47 INFO : Create tachyon file /hit_data.tsv.1 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1
13/07/28 05:21:47 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:21:47 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:21:47 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:21:47 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:21:47 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:21:47 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:21:47 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:21:47 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:21:47 INFO local.LocalTaskSetManager: Size of task 0 is 1494 bytes
13/07/28 05:21:47 INFO local.LocalScheduler: Running 0
13/07/28 05:21:47 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:21:47 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:21:47 INFO : Try to find and read from remote workers.
13/07/28 05:21:47 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:21:48 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1' for reading
13/07/28 05:21:48 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:21:48 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:21:48 INFO local.LocalScheduler: Finished 0
13/07/28 05:21:48 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:21:48 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:21:48 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.454 s
13/07/28 05:21:48 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.498565836 s
res0: Long = 1

scala> 13/07/28 05:21:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:21:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:21:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:21:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:21:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:21:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:21:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:21:48 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:21:49,839 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:21:49,843 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:21:50,432 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:21:51,181 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:21:51,388 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:21:51,400 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:21:51,431 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:21:51,457 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:21:51,470 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:21:51,507 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:21:51,520 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:21:51,598 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:21:51,611 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:21:51,642 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:21:51,668 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:21:51,680 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
28476 tachyon.Master
28503 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:21:58 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:21:58 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:58571
Creating SparkContext...
13/07/28 05:22:07 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:22:07 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:22:07 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:22:07 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052207-18b4
13/07/28 05:22:07 INFO network.ConnectionManager: Bound socket to port 39202 with id = ConnectionManagerId(tachyon-ec2-0,39202)
13/07/28 05:22:07 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:22:07 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:39202 with 1295.4 MB RAM
13/07/28 05:22:07 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:22:07 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:22:07 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:40936
13/07/28 05:22:07 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:40936
13/07/28 05:22:07 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:22:07 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-8a4871c0-14d8-44e3-9116-a7bc24359e78
13/07/28 05:22:07 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:22:07 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:53112
13/07/28 05:22:07 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:22:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:22:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:22:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:22:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:22:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:22:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:22:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:22:07 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:22:07 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:22:07 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100")
13/07/28 05:22:09 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:22:09 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:22:09 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:22:09 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:22:09 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:22:09 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:22:09 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:22:09 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:22:09 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:22:09 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:22:09 INFO : getFileStatus(/hit_data.tsv.100): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:22:10 INFO : tachyon.client.TachyonFS@44f54509 s3n://2012-05-19-sample /hit_data.tsv.100 tachyon.PrefixList@4287753d
13/07/28 05:22:11 INFO : Create tachyon file /hit_data.tsv.100 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100
13/07/28 05:22:11 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:22:11 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:22:11 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:22:11 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:22:11 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:22:11 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:22:11 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:22:11 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:22:11 INFO local.LocalTaskSetManager: Size of task 0 is 1496 bytes
13/07/28 05:22:11 INFO local.LocalScheduler: Running 0
13/07/28 05:22:11 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:22:11 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:22:11 INFO : Try to find and read from remote workers.
13/07/28 05:22:11 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:22:12 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100' for reading
13/07/28 05:22:12 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:22:12 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:22:12 INFO local.LocalScheduler: Finished 0
13/07/28 05:22:12 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:22:12 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:22:12 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.522 s
13/07/28 05:22:12 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.56625179 s
res0: Long = 100

scala> 13/07/28 05:22:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:22:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:22:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:22:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:22:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:22:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:22:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:22:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:22:13,949 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:22:13,953 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:22:14,544 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:22:15,289 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:22:15,415 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:22:15,431 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:22:15,472 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:22:15,501 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:22:15,515 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:22:15,558 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:22:15,572 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:22:15,662 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:22:15,674 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:22:15,734 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:22:15,763 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:22:15,776 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
29037 tachyon.Master
29064 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:22:22 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:22:22 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35470
Creating SparkContext...
13/07/28 05:22:31 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:22:31 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:22:31 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:22:31 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052231-be5e
13/07/28 05:22:31 INFO network.ConnectionManager: Bound socket to port 59015 with id = ConnectionManagerId(tachyon-ec2-0,59015)
13/07/28 05:22:31 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:22:31 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:59015 with 1295.4 MB RAM
13/07/28 05:22:31 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:22:31 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:22:31 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:52132
13/07/28 05:22:31 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:52132
13/07/28 05:22:31 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:22:31 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-b8e347fc-b173-4d16-9531-2172d20e9989
13/07/28 05:22:31 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:22:31 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:45460
13/07/28 05:22:31 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:22:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:22:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:22:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:22:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:22:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:22:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:22:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:22:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:22:31 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:22:31 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000")
13/07/28 05:22:33 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:22:33 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:22:33 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:22:33 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:22:33 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:22:33 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:22:33 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:22:33 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:22:33 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:22:33 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:22:33 INFO : getFileStatus(/hit_data.tsv.1000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:22:34 INFO : tachyon.client.TachyonFS@24aab9bd s3n://2012-05-19-sample /hit_data.tsv.1000 tachyon.PrefixList@44883a19
13/07/28 05:22:35 INFO : Create tachyon file /hit_data.tsv.1000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1000
13/07/28 05:22:35 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:22:35 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:22:35 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:22:35 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:22:35 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:22:35 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:22:35 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:22:35 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:22:35 INFO local.LocalTaskSetManager: Size of task 0 is 1497 bytes
13/07/28 05:22:35 INFO local.LocalScheduler: Running 0
13/07/28 05:22:36 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:22:36 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:22:36 INFO : Try to find and read from remote workers.
13/07/28 05:22:36 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:22:36 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1000' for reading
13/07/28 05:22:36 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:22:36 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:22:36 INFO local.LocalScheduler: Finished 0
13/07/28 05:22:36 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:22:36 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:22:36 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.657 s
13/07/28 05:22:36 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.701661738 s
res0: Long = 1000

scala> 13/07/28 05:22:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:22:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:22:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:22:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:22:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:22:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:22:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:22:36 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:22:38,235 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:22:38,238 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:22:38,827 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:22:39,568 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:22:39,693 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:22:39,708 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:22:39,741 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:22:39,768 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:22:39,784 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:22:39,828 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:22:39,843 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:22:39,930 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:22:39,941 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:22:39,972 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:22:40,003 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:22:40,015 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
29601 tachyon.Master
29628 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:22:46 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:22:46 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:47548
Creating SparkContext...
13/07/28 05:22:55 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:22:55 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:22:55 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:22:55 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052255-1dea
13/07/28 05:22:55 INFO network.ConnectionManager: Bound socket to port 58485 with id = ConnectionManagerId(tachyon-ec2-0,58485)
13/07/28 05:22:55 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:22:55 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:58485 with 1295.4 MB RAM
13/07/28 05:22:55 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:22:55 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:22:55 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:49910
13/07/28 05:22:55 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:49910
13/07/28 05:22:55 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:22:55 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-e5d94c62-5379-4dae-a989-3b7057ed624c
13/07/28 05:22:55 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:22:55 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35516
13/07/28 05:22:55 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:22:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:22:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:22:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:22:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:22:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:22:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:22:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:22:55 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:22:55 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:22:55 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000")
13/07/28 05:22:57 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:22:57 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:22:57 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:22:57 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:22:57 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:22:57 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:22:57 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:22:57 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:22:57 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:22:57 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:22:57 INFO : getFileStatus(/hit_data.tsv.10000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.10000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:22:58 INFO : tachyon.client.TachyonFS@5bb6e338 s3n://2012-05-19-sample /hit_data.tsv.10000 tachyon.PrefixList@43ffa092
13/07/28 05:22:59 INFO : Create tachyon file /hit_data.tsv.10000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.10000
13/07/28 05:22:59 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:22:59 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:22:59 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:22:59 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:22:59 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:22:59 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:22:59 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:22:59 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:23:00 INFO local.LocalTaskSetManager: Size of task 0 is 1498 bytes
13/07/28 05:23:00 INFO local.LocalScheduler: Running 0
13/07/28 05:23:00 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:23:00 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:23:00 INFO : Try to find and read from remote workers.
13/07/28 05:23:00 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:23:00 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.10000' for reading
13/07/28 05:23:00 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:23:00 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:23:01 INFO local.LocalScheduler: Finished 0
13/07/28 05:23:01 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:23:01 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:23:01 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 1.621 s
13/07/28 05:23:01 INFO spark.SparkContext: Job finished: count at <console>:15, took 1.66527634 s
res0: Long = 10000

scala> 13/07/28 05:23:01 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:23:01 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:23:01 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:23:01 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:23:01 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:23:01 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:23:01 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:23:01 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:23:03,283 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:23:03,287 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:23:03,882 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:23:04,629 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:23:04,749 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:23:04,761 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:23:04,805 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:23:04,831 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:23:04,843 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:23:04,896 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:23:04,907 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:23:04,985 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:23:04,998 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:23:05,028 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:23:05,053 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:23:05,067 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
30166 tachyon.Master
30193 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:23:11 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:23:11 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:58796
Creating SparkContext...
13/07/28 05:23:20 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:23:20 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:23:20 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:23:20 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052320-d078
13/07/28 05:23:20 INFO network.ConnectionManager: Bound socket to port 51669 with id = ConnectionManagerId(tachyon-ec2-0,51669)
13/07/28 05:23:20 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:23:20 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:51669 with 1295.4 MB RAM
13/07/28 05:23:20 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:23:20 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:23:20 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35856
13/07/28 05:23:20 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:35856
13/07/28 05:23:20 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:23:20 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-e07e9acc-4208-4d46-a392-90a96166078d
13/07/28 05:23:20 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:23:20 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:55740
13/07/28 05:23:20 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:23:20 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:23:20 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:23:20 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:23:20 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:23:20 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:23:20 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:23:20 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:23:20 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:23:20 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:23:20 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000")
13/07/28 05:23:22 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:23:22 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:23:22 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:23:22 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:23:22 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:23:22 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:23:22 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:23:22 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:23:22 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:23:22 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:23:22 INFO : getFileStatus(/hit_data.tsv.100000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:23:23 INFO : tachyon.client.TachyonFS@2aa13666 s3n://2012-05-19-sample /hit_data.tsv.100000 tachyon.PrefixList@3dfa7867
13/07/28 05:23:24 INFO : Create tachyon file /hit_data.tsv.100000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100000
13/07/28 05:23:24 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:23:24 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:23:25 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:23:25 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:23:25 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:23:25 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:23:25 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:23:25 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:23:25 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:23:25 INFO local.LocalScheduler: Running 0
13/07/28 05:23:25 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:23:25 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:23:25 INFO : Try to find and read from remote workers.
13/07/28 05:23:25 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:23:25 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100000' for reading
13/07/28 05:23:25 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:23:25 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:23:32 INFO local.LocalScheduler: Finished 0
13/07/28 05:23:32 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:23:32 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:23:32 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 7.611 s
13/07/28 05:23:32 INFO spark.SparkContext: Job finished: count at <console>:15, took 7.654743212 s
res0: Long = 100002

scala> 13/07/28 05:23:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:23:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:23:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:23:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:23:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:23:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:23:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:23:32 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:23:34,394 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:23:34,398 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:23:34,987 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:23:35,725 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:23:35,840 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:23:35,852 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:23:35,885 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:23:35,911 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:23:35,922 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:23:35,959 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:23:35,972 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:23:36,053 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:23:36,065 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:23:36,096 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:23:36,121 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:23:36,133 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
30755 tachyon.Master
30782 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:23:42 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:23:42 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44237
Creating SparkContext...
13/07/28 05:23:51 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:23:51 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:23:51 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:23:51 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052351-2e34
13/07/28 05:23:51 INFO network.ConnectionManager: Bound socket to port 43393 with id = ConnectionManagerId(tachyon-ec2-0,43393)
13/07/28 05:23:51 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:23:51 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:43393 with 1295.4 MB RAM
13/07/28 05:23:51 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:23:52 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:23:52 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:40732
13/07/28 05:23:52 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:40732
13/07/28 05:23:52 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:23:52 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-57f840bb-c091-4486-b299-a93a8edaab07
13/07/28 05:23:52 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:23:52 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:58519
13/07/28 05:23:52 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:23:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:23:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:23:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:23:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:23:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:23:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:23:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:23:52 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:23:52 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:23:52 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000")
13/07/28 05:23:53 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:23:53 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:23:53 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:23:53 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:23:53 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:23:53 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:23:53 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:23:53 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:23:53 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:23:53 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:23:53 INFO : getFileStatus(/hit_data.tsv.500000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.500000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:23:54 INFO : tachyon.client.TachyonFS@3ccd6695 s3n://2012-05-19-sample /hit_data.tsv.500000 tachyon.PrefixList@5109df62
13/07/28 05:23:55 INFO : Create tachyon file /hit_data.tsv.500000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.500000
13/07/28 05:23:55 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:23:56 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:23:56 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:23:56 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:23:56 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:23:56 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:23:56 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:23:56 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:23:56 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:23:56 INFO local.LocalScheduler: Running 0
13/07/28 05:23:56 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:23:56 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:23:56 INFO : Try to find and read from remote workers.
13/07/28 05:23:56 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:23:56 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.500000' for reading
13/07/28 05:23:56 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:23:56 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:24:31 INFO local.LocalScheduler: Finished 0
13/07/28 05:24:31 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:24:31 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:24:31 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 35.494 s
13/07/28 05:24:31 INFO spark.SparkContext: Job finished: count at <console>:15, took 35.538490611 s
res0: Long = 500094

scala> 13/07/28 05:24:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:24:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:24:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:24:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:24:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:24:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:24:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:24:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:24:33,400 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:24:33,404 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:24:33,993 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:24:34,738 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:24:34,968 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:24:35,001 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:24:35,051 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:24:35,091 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:24:35,107 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:24:35,204 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:24:35,221 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:24:35,411 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:24:35,424 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:24:35,475 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:24:35,518 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:24:35,540 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

run1 #: 7

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
31464 tachyon.Master
31491 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:24:41 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:24:41 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:60010
Creating SparkContext...
13/07/28 05:24:51 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:24:51 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:24:51 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:24:51 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052451-6443
13/07/28 05:24:51 INFO network.ConnectionManager: Bound socket to port 50973 with id = ConnectionManagerId(tachyon-ec2-0,50973)
13/07/28 05:24:51 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:24:51 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:50973 with 1295.4 MB RAM
13/07/28 05:24:51 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:24:51 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:24:51 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:49806
13/07/28 05:24:51 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:49806
13/07/28 05:24:51 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:24:51 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-2ae5dac4-13eb-48c1-88c9-f983787b173a
13/07/28 05:24:51 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:24:51 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:60836
13/07/28 05:24:51 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:24:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:24:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:24:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:24:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:24:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:24:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:24:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:24:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:24:51 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:24:51 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1")
13/07/28 05:24:52 INFO storage.MemoryStore: ensureFreeSpace(58415) called with curMem=0, maxMem=1358297825
13/07/28 05:24:52 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.0 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:24:53 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:24:53 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:24:53 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:24:53 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:24:53 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:24:53 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:24:53 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:24:53 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:24:53 INFO : getFileStatus(/hit_data.tsv.1): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:24:54 INFO : tachyon.client.TachyonFS@7bfcbd86 s3n://2012-05-19-sample /hit_data.tsv.1 tachyon.PrefixList@dfee802
13/07/28 05:24:55 INFO : Create tachyon file /hit_data.tsv.1 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1
13/07/28 05:24:55 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:24:55 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:24:55 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:24:55 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:24:55 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:24:55 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:24:55 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:24:55 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:24:55 INFO local.LocalTaskSetManager: Size of task 0 is 1494 bytes
13/07/28 05:24:55 INFO local.LocalScheduler: Running 0
13/07/28 05:24:55 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:24:55 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:24:55 INFO : Try to find and read from remote workers.
13/07/28 05:24:55 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:24:55 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1' for reading
13/07/28 05:24:55 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:24:55 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:24:55 INFO local.LocalScheduler: Finished 0
13/07/28 05:24:55 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:24:55 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:24:55 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.449 s
13/07/28 05:24:55 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.493467592 s
res0: Long = 1

scala> 13/07/28 05:24:56 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:24:56 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:24:56 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:24:56 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:24:56 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:24:56 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:24:56 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:24:56 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:24:57,665 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:24:57,668 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:24:58,254 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:24:58,994 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:24:59,151 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:24:59,168 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:24:59,205 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:24:59,244 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:24:59,267 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:24:59,324 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:24:59,340 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:24:59,473 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:24:59,499 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:24:59,551 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:24:59,604 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:24:59,627 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
32024 tachyon.Master
32051 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:25:05 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:25:05 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44127
Creating SparkContext...
13/07/28 05:25:15 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:25:15 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:25:15 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:25:15 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052515-b4c5
13/07/28 05:25:15 INFO network.ConnectionManager: Bound socket to port 50151 with id = ConnectionManagerId(tachyon-ec2-0,50151)
13/07/28 05:25:15 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:25:15 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:50151 with 1295.4 MB RAM
13/07/28 05:25:15 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:25:15 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:25:15 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43272
13/07/28 05:25:15 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:43272
13/07/28 05:25:15 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:25:15 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-b48e668b-6f76-417f-8b6b-ef334b7f2612
13/07/28 05:25:15 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:25:15 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:53819
13/07/28 05:25:15 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:25:15 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:25:15 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:25:15 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:25:15 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:25:15 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:25:15 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:25:15 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:25:15 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:25:15 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:25:15 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100")
13/07/28 05:25:16 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:25:16 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:25:17 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:25:17 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:25:17 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:25:17 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:25:17 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:25:17 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:25:17 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:25:17 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:25:17 INFO : getFileStatus(/hit_data.tsv.100): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:25:18 INFO : tachyon.client.TachyonFS@3c9d2cb1 s3n://2012-05-19-sample /hit_data.tsv.100 tachyon.PrefixList@72e1378d
13/07/28 05:25:19 INFO : Create tachyon file /hit_data.tsv.100 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100
13/07/28 05:25:19 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:25:19 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:25:19 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:25:19 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:25:19 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:25:19 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:25:19 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:25:19 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:25:19 INFO local.LocalTaskSetManager: Size of task 0 is 1496 bytes
13/07/28 05:25:19 INFO local.LocalScheduler: Running 0
13/07/28 05:25:19 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:25:19 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:25:19 INFO : Try to find and read from remote workers.
13/07/28 05:25:19 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:25:19 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100' for reading
13/07/28 05:25:19 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:25:19 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:25:19 INFO local.LocalScheduler: Finished 0
13/07/28 05:25:19 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:25:19 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:25:19 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.466 s
13/07/28 05:25:19 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.512230883 s
res0: Long = 100

scala> 13/07/28 05:25:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:25:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:25:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:25:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:25:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:25:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:25:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:25:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:25:21,679 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:25:21,683 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:25:22,273 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:25:23,016 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:25:23,149 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:25:23,169 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:25:23,213 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:25:23,241 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:25:23,255 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:25:23,307 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:25:23,323 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:25:23,418 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:25:23,430 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:25:23,466 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:25:23,499 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:25:23,512 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
32585 tachyon.Master
32612 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:25:29 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:25:29 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:38524
Creating SparkContext...
13/07/28 05:25:39 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:25:39 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:25:39 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:25:39 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052539-0326
13/07/28 05:25:39 INFO network.ConnectionManager: Bound socket to port 35286 with id = ConnectionManagerId(tachyon-ec2-0,35286)
13/07/28 05:25:39 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:25:39 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:35286 with 1295.4 MB RAM
13/07/28 05:25:39 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:25:39 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:25:39 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:52163
13/07/28 05:25:39 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:52163
13/07/28 05:25:39 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:25:39 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-08a16826-fe48-4883-8d3b-f82642de4eb0
13/07/28 05:25:39 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:25:39 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43945
13/07/28 05:25:39 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:25:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:25:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:25:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:25:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:25:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:25:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:25:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:25:39 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:25:39 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:25:39 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000")
13/07/28 05:25:40 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:25:40 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:25:41 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:25:41 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:25:41 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:25:41 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:25:41 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:25:41 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:25:41 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:25:41 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:25:41 INFO : getFileStatus(/hit_data.tsv.1000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:25:42 INFO : tachyon.client.TachyonFS@5a31e27b s3n://2012-05-19-sample /hit_data.tsv.1000 tachyon.PrefixList@10c2780
13/07/28 05:25:43 INFO : Create tachyon file /hit_data.tsv.1000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1000
13/07/28 05:25:43 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:25:43 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:25:43 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:25:43 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:25:43 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:25:43 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:25:43 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:25:43 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:25:43 INFO local.LocalTaskSetManager: Size of task 0 is 1497 bytes
13/07/28 05:25:43 INFO local.LocalScheduler: Running 0
13/07/28 05:25:43 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:25:43 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:25:43 INFO : Try to find and read from remote workers.
13/07/28 05:25:43 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:25:43 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1000' for reading
13/07/28 05:25:43 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:25:43 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:25:44 INFO local.LocalScheduler: Finished 0
13/07/28 05:25:44 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:25:44 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:25:44 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.666 s
13/07/28 05:25:44 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.710311582 s
res0: Long = 1000

scala> 13/07/28 05:25:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:25:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:25:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:25:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:25:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:25:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:25:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:25:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:25:45,928 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:25:45,941 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:25:46,531 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:25:47,280 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:25:47,406 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:25:47,423 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:25:47,458 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:25:47,606 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:25:47,621 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:25:47,666 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:25:47,681 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:25:47,771 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:25:47,785 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:25:47,817 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:25:48,168 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:25:48,182 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
690 tachyon.Master
717 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:25:54 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:25:54 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:59833
Creating SparkContext...
13/07/28 05:26:03 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:26:03 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:26:03 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:26:03 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052603-af3b
13/07/28 05:26:03 INFO network.ConnectionManager: Bound socket to port 53361 with id = ConnectionManagerId(tachyon-ec2-0,53361)
13/07/28 05:26:04 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:26:04 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:53361 with 1295.4 MB RAM
13/07/28 05:26:04 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:26:04 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:26:04 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:47231
13/07/28 05:26:04 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:47231
13/07/28 05:26:04 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:26:04 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-58e43dd2-3e0e-4444-bd3d-bbcb360f0e98
13/07/28 05:26:04 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:26:04 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:42645
13/07/28 05:26:04 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:26:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:26:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:26:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:26:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:26:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:26:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:26:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:26:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:26:04 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:26:04 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000")
13/07/28 05:26:05 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:26:05 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:26:05 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:26:05 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:26:05 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:26:05 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:26:05 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:26:05 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:26:05 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:26:05 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:26:05 INFO : getFileStatus(/hit_data.tsv.10000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.10000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:26:06 INFO : tachyon.client.TachyonFS@a4fe80 s3n://2012-05-19-sample /hit_data.tsv.10000 tachyon.PrefixList@504085d4
13/07/28 05:26:07 INFO : Create tachyon file /hit_data.tsv.10000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.10000
13/07/28 05:26:07 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:26:08 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:26:08 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:26:08 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:26:08 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:26:08 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:26:08 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:26:08 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:26:08 INFO local.LocalTaskSetManager: Size of task 0 is 1498 bytes
13/07/28 05:26:08 INFO local.LocalScheduler: Running 0
13/07/28 05:26:08 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:26:08 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:26:08 INFO : Try to find and read from remote workers.
13/07/28 05:26:08 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:26:08 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.10000' for reading
13/07/28 05:26:08 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:26:08 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:26:09 INFO local.LocalScheduler: Finished 0
13/07/28 05:26:09 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:26:09 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:26:09 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 1.850 s
13/07/28 05:26:09 INFO spark.SparkContext: Job finished: count at <console>:15, took 1.895011364 s
res0: Long = 10000

scala> 13/07/28 05:26:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:26:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:26:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:26:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:26:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:26:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:26:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:26:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:26:11,683 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:26:11,687 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:26:12,276 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:26:13,018 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:26:13,185 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:26:13,216 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:26:13,301 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:26:13,333 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:26:13,357 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:26:13,399 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:26:13,425 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:26:13,550 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:26:13,564 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:26:13,600 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:26:13,631 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:26:13,645 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
1343 tachyon.Master
1370 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:26:19 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:26:19 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:58057
Creating SparkContext...
13/07/28 05:26:29 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:26:29 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:26:29 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:26:29 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052629-c14e
13/07/28 05:26:29 INFO network.ConnectionManager: Bound socket to port 42385 with id = ConnectionManagerId(tachyon-ec2-0,42385)
13/07/28 05:26:29 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:26:29 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:42385 with 1295.4 MB RAM
13/07/28 05:26:29 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:26:29 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:26:29 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:51001
13/07/28 05:26:29 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:51001
13/07/28 05:26:29 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:26:29 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-a3825284-18c4-43e9-a86e-e23a72861c9d
13/07/28 05:26:29 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:26:29 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54432
13/07/28 05:26:29 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:26:29 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:26:29 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:26:29 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:26:29 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:26:29 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:26:29 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:26:29 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:26:29 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:26:29 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:26:29 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000")
13/07/28 05:26:30 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:26:30 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:26:31 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:26:31 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:26:31 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:26:31 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:26:31 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:26:31 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:26:31 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:26:31 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:26:31 INFO : getFileStatus(/hit_data.tsv.100000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:26:32 INFO : tachyon.client.TachyonFS@10c2780 s3n://2012-05-19-sample /hit_data.tsv.100000 tachyon.PrefixList@44f54509
13/07/28 05:26:33 INFO : Create tachyon file /hit_data.tsv.100000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100000
13/07/28 05:26:33 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:26:33 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:26:33 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:26:33 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:26:33 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:26:33 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:26:33 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:26:33 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:26:33 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:26:33 INFO local.LocalScheduler: Running 0
13/07/28 05:26:33 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:26:33 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:26:33 INFO : Try to find and read from remote workers.
13/07/28 05:26:33 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:26:33 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100000' for reading
13/07/28 05:26:33 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:26:33 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:26:40 INFO local.LocalScheduler: Finished 0
13/07/28 05:26:40 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:26:40 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:26:40 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 6.663 s
13/07/28 05:26:40 INFO spark.SparkContext: Job finished: count at <console>:15, took 6.706902049 s
res0: Long = 100002

scala> 13/07/28 05:26:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:26:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:26:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:26:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:26:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:26:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:26:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:26:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:26:41,926 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:26:41,930 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:26:42,521 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:26:43,265 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:26:43,430 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:26:43,448 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:26:43,483 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:26:43,514 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:26:43,530 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:26:43,574 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:26:43,590 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:26:43,685 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:26:43,698 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:26:43,735 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:26:43,777 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:26:43,790 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
1930 tachyon.Master
1957 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:26:50 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:26:50 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:40228
Creating SparkContext...
13/07/28 05:26:59 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:26:59 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:26:59 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:26:59 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052659-dffd
13/07/28 05:26:59 INFO network.ConnectionManager: Bound socket to port 46787 with id = ConnectionManagerId(tachyon-ec2-0,46787)
13/07/28 05:26:59 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:26:59 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:46787 with 1295.4 MB RAM
13/07/28 05:26:59 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:26:59 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:26:59 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:38676
13/07/28 05:26:59 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:38676
13/07/28 05:26:59 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:26:59 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-f6a8eaa1-352f-4e09-9b47-f156ee2ab9d8
13/07/28 05:26:59 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:26:59 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35885
13/07/28 05:26:59 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:26:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:26:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:26:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:26:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:26:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:26:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:26:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:26:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:26:59 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:26:59 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000")
13/07/28 05:27:01 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:27:01 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:27:01 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:27:01 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:27:01 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:27:01 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:27:01 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:27:01 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:27:01 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:27:01 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:27:01 INFO : getFileStatus(/hit_data.tsv.500000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.500000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:27:02 INFO : tachyon.client.TachyonFS@3c9d2cb1 s3n://2012-05-19-sample /hit_data.tsv.500000 tachyon.PrefixList@72e1378d
13/07/28 05:27:03 INFO : Create tachyon file /hit_data.tsv.500000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.500000
13/07/28 05:27:03 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:27:03 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:27:03 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:27:03 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:27:03 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:27:03 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:27:03 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:27:03 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:27:03 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:27:03 INFO local.LocalScheduler: Running 0
13/07/28 05:27:03 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:27:03 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:27:03 INFO : Try to find and read from remote workers.
13/07/28 05:27:03 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:27:04 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.500000' for reading
13/07/28 05:27:04 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:27:04 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:27:31 INFO local.LocalScheduler: Finished 0
13/07/28 05:27:31 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:27:31 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:27:31 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 28.142 s
13/07/28 05:27:31 INFO spark.SparkContext: Job finished: count at <console>:15, took 28.186643226 s
res0: Long = 500094

scala> 13/07/28 05:27:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:27:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:27:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:27:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:27:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:27:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:27:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:27:31 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:27:33,695 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:27:33,699 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:27:34,288 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:27:35,020 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:27:35,132 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:27:35,143 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:27:35,174 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:27:35,230 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:27:35,243 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:27:35,278 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:27:35,289 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:27:35,366 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:27:35,378 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:27:35,409 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:27:35,431 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:27:35,443 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

run1 #: 8

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
2625 tachyon.Master
2652 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:27:41 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:27:41 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:57128
Creating SparkContext...
13/07/28 05:27:50 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:27:51 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:27:51 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:27:51 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052751-6255
13/07/28 05:27:51 INFO network.ConnectionManager: Bound socket to port 50026 with id = ConnectionManagerId(tachyon-ec2-0,50026)
13/07/28 05:27:51 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:27:51 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:50026 with 1295.4 MB RAM
13/07/28 05:27:51 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:27:51 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:27:51 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:59855
13/07/28 05:27:51 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:59855
13/07/28 05:27:51 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:27:51 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-87638d00-f4e9-49b8-a5c5-4b8afb74bf81
13/07/28 05:27:51 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:27:51 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:56278
13/07/28 05:27:51 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:27:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:27:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:27:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:27:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:27:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:27:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:27:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:27:51 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:27:51 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:27:51 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1")
13/07/28 05:27:52 INFO storage.MemoryStore: ensureFreeSpace(58415) called with curMem=0, maxMem=1358297825
13/07/28 05:27:52 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.0 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:27:53 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:27:53 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:27:53 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:27:53 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:27:53 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:27:53 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:27:53 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:27:53 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:27:53 INFO : getFileStatus(/hit_data.tsv.1): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:27:53 INFO : tachyon.client.TachyonFS@6f6d1fb s3n://2012-05-19-sample /hit_data.tsv.1 tachyon.PrefixList@3653b94f
13/07/28 05:27:55 INFO : Create tachyon file /hit_data.tsv.1 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1
13/07/28 05:27:55 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:27:55 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:27:55 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:27:55 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:27:55 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:27:55 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:27:55 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:27:55 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:27:55 INFO local.LocalTaskSetManager: Size of task 0 is 1494 bytes
13/07/28 05:27:55 INFO local.LocalScheduler: Running 0
13/07/28 05:27:55 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:27:55 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:27:55 INFO : Try to find and read from remote workers.
13/07/28 05:27:55 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:27:55 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1' for reading
13/07/28 05:27:55 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:27:55 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:27:55 INFO local.LocalScheduler: Finished 0
13/07/28 05:27:55 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:27:55 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:27:55 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.485 s
13/07/28 05:27:55 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.530502524 s
res0: Long = 1

scala> 13/07/28 05:27:55 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:27:55 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:27:55 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:27:55 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:27:55 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:27:55 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:27:55 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:27:55 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:27:57,555 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:27:57,558 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:27:58,144 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:27:59,886 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:28:00,068 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:28:00,079 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:28:00,116 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:28:00,148 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:28:00,160 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:28:00,200 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:28:00,212 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:28:00,349 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:28:00,362 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:28:00,392 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:28:00,416 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:28:00,431 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
3192 tachyon.Master
3219 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:28:06 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:28:06 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:50351
Creating SparkContext...
13/07/28 05:28:15 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:28:16 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:28:16 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:28:16 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052816-bb4c
13/07/28 05:28:16 INFO network.ConnectionManager: Bound socket to port 58686 with id = ConnectionManagerId(tachyon-ec2-0,58686)
13/07/28 05:28:16 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:28:16 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:58686 with 1295.4 MB RAM
13/07/28 05:28:16 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:28:16 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:28:16 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:49280
13/07/28 05:28:16 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:49280
13/07/28 05:28:16 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:28:16 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-a91880a7-2bd9-433d-9bdb-e31c2187a1a8
13/07/28 05:28:16 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:28:16 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:49799
13/07/28 05:28:16 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:28:16 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:28:16 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:28:16 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:28:16 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:28:16 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:28:16 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:28:16 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:28:16 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:28:16 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:28:16 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100")
13/07/28 05:28:17 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:28:17 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:28:18 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:28:18 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:28:18 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:28:18 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:28:18 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:28:18 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:28:18 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:28:18 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:28:18 INFO : getFileStatus(/hit_data.tsv.100): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:28:18 INFO : tachyon.client.TachyonFS@5de132a5 s3n://2012-05-19-sample /hit_data.tsv.100 tachyon.PrefixList@6bc41ec9
13/07/28 05:28:20 INFO : Create tachyon file /hit_data.tsv.100 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100
13/07/28 05:28:20 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:28:20 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:28:20 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:28:20 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:28:20 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:28:20 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:28:20 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:28:20 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:28:20 INFO local.LocalTaskSetManager: Size of task 0 is 1496 bytes
13/07/28 05:28:20 INFO local.LocalScheduler: Running 0
13/07/28 05:28:20 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:28:20 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:28:20 INFO : Try to find and read from remote workers.
13/07/28 05:28:20 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:28:20 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100' for reading
13/07/28 05:28:20 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:28:20 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:28:20 INFO local.LocalScheduler: Finished 0
13/07/28 05:28:20 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:28:20 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:28:20 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.537 s
13/07/28 05:28:20 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.581537664 s
res0: Long = 100

scala> 13/07/28 05:28:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:28:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:28:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:28:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:28:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:28:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:28:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:28:20 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:28:22,561 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:28:22,565 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:28:23,151 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:28:23,898 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:28:24,027 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:28:24,043 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:28:24,075 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:28:24,104 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:28:24,118 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:28:24,163 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:28:24,177 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:28:24,264 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:28:24,276 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:28:24,311 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:28:24,343 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:28:24,356 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
3760 tachyon.Master
3787 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:28:30 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:28:30 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:49951
Creating SparkContext...
13/07/28 05:28:39 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:28:40 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:28:40 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:28:40 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052840-6da5
13/07/28 05:28:40 INFO network.ConnectionManager: Bound socket to port 33790 with id = ConnectionManagerId(tachyon-ec2-0,33790)
13/07/28 05:28:40 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:28:40 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:33790 with 1295.4 MB RAM
13/07/28 05:28:40 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:28:40 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:28:40 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:33064
13/07/28 05:28:40 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:33064
13/07/28 05:28:40 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:28:40 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-61f67d47-3c1f-4306-a1ab-c859ee5d9778
13/07/28 05:28:40 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:28:40 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:55907
13/07/28 05:28:40 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:28:40 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:28:40 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:28:40 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:28:40 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:28:40 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:28:40 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:28:40 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:28:40 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:28:40 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:28:40 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000")
13/07/28 05:28:41 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:28:41 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:28:41 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:28:41 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:28:41 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:28:41 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:28:42 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:28:42 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:28:42 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:28:42 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:28:42 INFO : getFileStatus(/hit_data.tsv.1000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:28:42 INFO : tachyon.client.TachyonFS@dfee802 s3n://2012-05-19-sample /hit_data.tsv.1000 tachyon.PrefixList@5a31e27b
13/07/28 05:28:44 INFO : Create tachyon file /hit_data.tsv.1000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1000
13/07/28 05:28:44 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:28:44 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:28:44 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:28:44 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:28:44 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:28:44 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:28:44 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:28:44 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:28:44 INFO local.LocalTaskSetManager: Size of task 0 is 1497 bytes
13/07/28 05:28:44 INFO local.LocalScheduler: Running 0
13/07/28 05:28:44 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:28:44 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:28:44 INFO : Try to find and read from remote workers.
13/07/28 05:28:44 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:28:44 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1000' for reading
13/07/28 05:28:44 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:28:44 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:28:44 INFO local.LocalScheduler: Finished 0
13/07/28 05:28:44 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:28:44 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:28:44 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.655 s
13/07/28 05:28:44 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.699466558 s
res0: Long = 1000

scala> 13/07/28 05:28:45 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:28:45 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:28:45 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:28:45 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:28:45 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:28:45 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:28:45 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:28:45 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:28:46,694 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:28:46,698 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:28:47,289 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:28:48,050 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:28:48,220 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:28:48,236 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:28:48,674 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:28:48,715 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:28:48,743 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:28:48,804 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:28:48,823 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:28:48,943 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:28:48,985 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:28:49,032 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:28:49,074 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:28:49,094 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
4327 tachyon.Master
4354 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:28:55 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:28:55 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:33737
Creating SparkContext...
13/07/28 05:29:04 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:29:04 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:29:04 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:29:04 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052904-020b
13/07/28 05:29:04 INFO network.ConnectionManager: Bound socket to port 33558 with id = ConnectionManagerId(tachyon-ec2-0,33558)
13/07/28 05:29:04 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:29:04 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:33558 with 1295.4 MB RAM
13/07/28 05:29:04 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:29:04 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:29:04 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35714
13/07/28 05:29:04 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:35714
13/07/28 05:29:04 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:29:04 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-352018d4-1321-44b0-ad61-c76bec6b9e2b
13/07/28 05:29:04 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:29:04 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44694
13/07/28 05:29:05 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:29:05 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:29:05 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:29:05 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:29:05 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:29:05 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:29:05 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:29:05 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:29:05 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:29:05 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:29:05 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000")
13/07/28 05:29:06 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:29:06 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:29:06 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:29:06 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:29:06 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:29:06 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:29:06 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:29:06 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:29:06 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:29:06 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:29:06 INFO : getFileStatus(/hit_data.tsv.10000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.10000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:29:07 INFO : tachyon.client.TachyonFS@6bc41ec9 s3n://2012-05-19-sample /hit_data.tsv.10000 tachyon.PrefixList@18c15565
13/07/28 05:29:08 INFO : Create tachyon file /hit_data.tsv.10000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.10000
13/07/28 05:29:08 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:29:08 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:29:09 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:29:09 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:29:09 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:29:09 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:29:09 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:29:09 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:29:09 INFO local.LocalTaskSetManager: Size of task 0 is 1498 bytes
13/07/28 05:29:09 INFO local.LocalScheduler: Running 0
13/07/28 05:29:09 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:29:09 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:29:09 INFO : Try to find and read from remote workers.
13/07/28 05:29:09 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:29:09 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.10000' for reading
13/07/28 05:29:09 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:29:09 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:29:10 INFO local.LocalScheduler: Finished 0
13/07/28 05:29:10 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:29:10 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:29:10 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 1.615 s
13/07/28 05:29:10 INFO spark.SparkContext: Job finished: count at <console>:15, took 1.660708669 s
res0: Long = 10000

scala> 13/07/28 05:29:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:29:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:29:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:29:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:29:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:29:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:29:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:29:10 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:29:12,357 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:29:12,360 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:29:12,947 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:29:13,704 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:29:13,833 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:29:13,847 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:29:13,881 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:29:13,910 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:29:13,925 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:29:13,968 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:29:13,984 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:29:14,080 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:29:14,092 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:29:14,129 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:29:14,159 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:29:14,171 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
4891 tachyon.Master
4918 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:29:20 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:29:20 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:51099
Creating SparkContext...
13/07/28 05:29:29 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:29:29 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:29:29 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:29:29 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728052929-68e5
13/07/28 05:29:29 INFO network.ConnectionManager: Bound socket to port 33511 with id = ConnectionManagerId(tachyon-ec2-0,33511)
13/07/28 05:29:29 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:29:29 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:33511 with 1295.4 MB RAM
13/07/28 05:29:29 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:29:29 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:29:29 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35984
13/07/28 05:29:29 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:35984
13/07/28 05:29:29 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:29:29 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-d4c81c1e-4928-4cda-8f1a-4735fa0a114c
13/07/28 05:29:29 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:29:29 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:34644
13/07/28 05:29:30 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:29:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:29:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:29:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:29:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:29:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:29:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:29:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:29:30 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:29:30 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:29:30 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000")
13/07/28 05:29:31 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:29:31 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:29:31 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:29:31 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:29:31 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:29:31 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:29:31 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:29:31 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:29:31 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:29:31 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:29:31 INFO : getFileStatus(/hit_data.tsv.100000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:29:32 INFO : tachyon.client.TachyonFS@2aa13666 s3n://2012-05-19-sample /hit_data.tsv.100000 tachyon.PrefixList@3dfa7867
13/07/28 05:29:33 INFO : Create tachyon file /hit_data.tsv.100000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100000
13/07/28 05:29:33 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:29:33 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:29:33 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:29:33 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:29:33 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:29:33 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:29:33 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:29:33 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:29:34 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:29:34 INFO local.LocalScheduler: Running 0
13/07/28 05:29:34 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:29:34 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:29:34 INFO : Try to find and read from remote workers.
13/07/28 05:29:34 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:29:34 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100000' for reading
13/07/28 05:29:34 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:29:34 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:29:41 INFO local.LocalScheduler: Finished 0
13/07/28 05:29:41 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:29:41 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:29:41 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 7.451 s
13/07/28 05:29:41 INFO spark.SparkContext: Job finished: count at <console>:15, took 7.495768903 s
res0: Long = 100002

scala> 13/07/28 05:29:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:29:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:29:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:29:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:29:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:29:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:29:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:29:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:29:43,194 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:29:43,198 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:29:43,785 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:29:44,539 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:29:44,690 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:29:44,821 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:29:44,859 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:29:44,889 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:29:44,904 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:29:44,949 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:29:44,964 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:29:45,107 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:29:45,121 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:29:45,163 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:29:45,198 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:29:45,212 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
5481 tachyon.Master
5508 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:29:51 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:29:51 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36495
Creating SparkContext...
13/07/28 05:30:00 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:30:01 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:30:01 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:30:01 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053001-0884
13/07/28 05:30:01 INFO network.ConnectionManager: Bound socket to port 41669 with id = ConnectionManagerId(tachyon-ec2-0,41669)
13/07/28 05:30:01 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:30:01 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:41669 with 1295.4 MB RAM
13/07/28 05:30:01 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:30:01 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:30:01 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:37230
13/07/28 05:30:01 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:37230
13/07/28 05:30:01 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:30:01 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-b2cf3fc6-408d-4f19-9f78-42fcb9e65520
13/07/28 05:30:01 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:30:01 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:38960
13/07/28 05:30:01 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:30:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:30:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:30:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:30:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:30:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:30:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:30:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:30:01 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:30:01 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:30:01 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000")
13/07/28 05:30:02 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:30:02 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:30:02 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:30:02 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:30:02 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:30:02 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:30:02 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:30:02 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:30:02 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:30:03 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:30:03 INFO : getFileStatus(/hit_data.tsv.500000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.500000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:30:03 INFO : tachyon.client.TachyonFS@51050034 s3n://2012-05-19-sample /hit_data.tsv.500000 tachyon.PrefixList@1f507f7a
13/07/28 05:30:05 INFO : Create tachyon file /hit_data.tsv.500000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.500000
13/07/28 05:30:05 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:30:05 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:30:05 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:30:05 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:30:05 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:30:05 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:30:05 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:30:05 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:30:05 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:30:05 INFO local.LocalScheduler: Running 0
13/07/28 05:30:05 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:30:05 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:30:05 INFO : Try to find and read from remote workers.
13/07/28 05:30:05 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:30:05 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.500000' for reading
13/07/28 05:30:05 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:30:05 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:30:40 INFO local.LocalScheduler: Finished 0
13/07/28 05:30:40 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:30:40 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:30:40 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 34.977 s
13/07/28 05:30:40 INFO spark.SparkContext: Job finished: count at <console>:15, took 35.022350511 s
res0: Long = 500094

scala> 13/07/28 05:30:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:30:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:30:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:30:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:30:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:30:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:30:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:30:40 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:30:42,105 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:30:42,109 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:30:42,705 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:30:43,448 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:30:43,561 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:30:43,573 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:30:43,604 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:30:43,631 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:30:43,644 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:30:43,688 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:30:43,701 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:30:43,784 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:30:43,799 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:30:43,829 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:30:43,882 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:30:43,896 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

run1 #: 9

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
6246 tachyon.Master
6273 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:30:50 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:30:50 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:51067
Creating SparkContext...
13/07/28 05:30:59 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:30:59 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:30:59 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:30:59 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053059-bb13
13/07/28 05:30:59 INFO network.ConnectionManager: Bound socket to port 44731 with id = ConnectionManagerId(tachyon-ec2-0,44731)
13/07/28 05:30:59 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:30:59 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:44731 with 1295.4 MB RAM
13/07/28 05:30:59 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:30:59 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:30:59 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:42414
13/07/28 05:30:59 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:42414
13/07/28 05:30:59 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:30:59 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-46ec74fc-a056-42a1-b939-0cd83681cec5
13/07/28 05:30:59 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:30:59 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:41581
13/07/28 05:30:59 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:30:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:30:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:30:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:30:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:30:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:30:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:30:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:30:59 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:30:59 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:30:59 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1")
13/07/28 05:31:01 INFO storage.MemoryStore: ensureFreeSpace(58415) called with curMem=0, maxMem=1358297825
13/07/28 05:31:01 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.0 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:31:01 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:31:01 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:31:01 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:31:01 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:31:01 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:31:01 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:31:01 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:31:01 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:31:01 INFO : getFileStatus(/hit_data.tsv.1): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:31:02 INFO : tachyon.client.TachyonFS@337e25c3 s3n://2012-05-19-sample /hit_data.tsv.1 tachyon.PrefixList@1ee13f9e
13/07/28 05:31:03 INFO : Create tachyon file /hit_data.tsv.1 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1
13/07/28 05:31:03 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:31:03 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:31:03 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:31:03 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:31:03 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:31:03 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:31:03 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:31:03 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:31:03 INFO local.LocalTaskSetManager: Size of task 0 is 1494 bytes
13/07/28 05:31:03 INFO local.LocalScheduler: Running 0
13/07/28 05:31:03 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:31:04 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:31:04 INFO : Try to find and read from remote workers.
13/07/28 05:31:04 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:31:04 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1' for reading
13/07/28 05:31:04 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:31:04 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:31:04 INFO local.LocalScheduler: Finished 0
13/07/28 05:31:04 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:31:04 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:31:04 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.442 s
13/07/28 05:31:04 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.48706019 s
res0: Long = 1

scala> 13/07/28 05:31:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:31:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:31:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:31:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:31:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:31:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:31:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:31:04 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:31:05,997 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:31:06,001 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:31:06,592 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:31:07,343 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:31:07,452 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:31:07,463 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:31:07,498 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:31:07,521 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:31:07,533 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:31:07,569 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:31:07,579 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:31:07,660 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:31:07,673 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:31:07,701 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:31:07,721 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:31:07,734 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
6807 tachyon.Master
6834 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:31:14 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:31:14 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:57861
Creating SparkContext...
13/07/28 05:31:23 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:31:23 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:31:23 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:31:23 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053123-8eb3
13/07/28 05:31:23 INFO network.ConnectionManager: Bound socket to port 54338 with id = ConnectionManagerId(tachyon-ec2-0,54338)
13/07/28 05:31:23 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:31:23 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:54338 with 1295.4 MB RAM
13/07/28 05:31:23 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:31:23 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:31:23 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54449
13/07/28 05:31:23 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:54449
13/07/28 05:31:23 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:31:23 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-88f7b8fa-79ff-43e2-97fc-7c67bb1a77b1
13/07/28 05:31:23 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:31:23 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:55517
13/07/28 05:31:23 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:31:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:31:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:31:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:31:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:31:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:31:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:31:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:31:23 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:31:23 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:31:23 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100")
13/07/28 05:31:25 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:31:25 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:31:25 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:31:25 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:31:25 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:31:25 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:31:25 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:31:25 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:31:25 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:31:25 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:31:25 INFO : getFileStatus(/hit_data.tsv.100): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:31:26 INFO : tachyon.client.TachyonFS@28454507 s3n://2012-05-19-sample /hit_data.tsv.100 tachyon.PrefixList@5bb6e338
13/07/28 05:31:27 INFO : Create tachyon file /hit_data.tsv.100 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100
13/07/28 05:31:27 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:31:27 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:31:27 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:31:27 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:31:27 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:31:27 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:31:27 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:31:27 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:31:27 INFO local.LocalTaskSetManager: Size of task 0 is 1496 bytes
13/07/28 05:31:27 INFO local.LocalScheduler: Running 0
13/07/28 05:31:27 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:31:27 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:31:27 INFO : Try to find and read from remote workers.
13/07/28 05:31:27 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:31:28 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100' for reading
13/07/28 05:31:28 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:31:28 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:31:28 INFO local.LocalScheduler: Finished 0
13/07/28 05:31:28 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:31:28 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:31:28 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.512 s
13/07/28 05:31:28 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.556958985 s
res0: Long = 100

scala> 13/07/28 05:31:28 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:31:28 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:31:28 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:31:28 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:31:28 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:31:28 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:31:28 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:31:28 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:31:29,901 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:31:29,905 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:31:30,496 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:31:31,234 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:31:31,354 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:31:31,364 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:31:31,392 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:31:31,417 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:31:31,429 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:31:31,464 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:31:31,474 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:31:31,593 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:31:31,607 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:31:31,643 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:31:31,666 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:31:31,679 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
7369 tachyon.Master
7396 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:31:37 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:31:38 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:57219
Creating SparkContext...
13/07/28 05:31:47 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:31:47 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:31:47 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:31:47 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053147-72d2
13/07/28 05:31:47 INFO network.ConnectionManager: Bound socket to port 48404 with id = ConnectionManagerId(tachyon-ec2-0,48404)
13/07/28 05:31:47 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:31:47 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:48404 with 1295.4 MB RAM
13/07/28 05:31:47 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:31:47 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:31:47 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44257
13/07/28 05:31:47 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:44257
13/07/28 05:31:47 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:31:47 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-318b8090-d2ca-4c35-a442-aa592884bd61
13/07/28 05:31:47 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:31:47 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35543
13/07/28 05:31:47 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:31:47 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:31:47 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:31:47 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:31:47 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:31:47 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:31:47 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:31:47 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:31:47 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:31:47 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:31:47 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000")
13/07/28 05:31:48 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:31:48 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:31:49 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:31:49 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:31:49 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:31:49 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:31:49 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:31:49 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:31:49 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:31:49 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:31:49 INFO : getFileStatus(/hit_data.tsv.1000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:31:50 INFO : tachyon.client.TachyonFS@7b95aa1d s3n://2012-05-19-sample /hit_data.tsv.1000 tachyon.PrefixList@1ed3954e
13/07/28 05:31:51 INFO : Create tachyon file /hit_data.tsv.1000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1000
13/07/28 05:31:51 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:31:51 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:31:51 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:31:51 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:31:51 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:31:51 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:31:51 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:31:51 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:31:51 INFO local.LocalTaskSetManager: Size of task 0 is 1497 bytes
13/07/28 05:31:51 INFO local.LocalScheduler: Running 0
13/07/28 05:31:51 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:31:51 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:31:51 INFO : Try to find and read from remote workers.
13/07/28 05:31:51 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:31:51 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1000' for reading
13/07/28 05:31:51 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:31:51 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:31:52 INFO local.LocalScheduler: Finished 0
13/07/28 05:31:52 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:31:52 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:31:52 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.678 s
13/07/28 05:31:52 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.722139052 s
res0: Long = 1000

scala> 13/07/28 05:31:52 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:31:52 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:31:52 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:31:52 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:31:52 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:31:52 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:31:52 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:31:52 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:31:53,960 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:31:53,964 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:31:54,553 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:31:55,327 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:31:55,485 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:31:55,566 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:31:55,597 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:31:55,624 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:31:55,636 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:31:55,691 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:31:55,702 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:31:55,781 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:31:55,794 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:31:55,828 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:31:55,850 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:31:55,864 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
7930 tachyon.Master
7957 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:32:02 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:32:02 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43712
Creating SparkContext...
13/07/28 05:32:11 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:32:11 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:32:11 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:32:11 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053211-5cd2
13/07/28 05:32:11 INFO network.ConnectionManager: Bound socket to port 42115 with id = ConnectionManagerId(tachyon-ec2-0,42115)
13/07/28 05:32:11 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:32:11 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:42115 with 1295.4 MB RAM
13/07/28 05:32:11 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:32:11 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:32:11 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:54000
13/07/28 05:32:11 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:54000
13/07/28 05:32:11 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:32:11 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-5c603eea-7054-4f90-8ad5-5223601c6f3b
13/07/28 05:32:11 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:32:11 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35946
13/07/28 05:32:11 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:32:11 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:32:11 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:32:11 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:32:11 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:32:11 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:32:11 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:32:11 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:32:11 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:32:11 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:32:11 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000")
13/07/28 05:32:13 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:32:13 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:32:13 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:32:13 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:32:13 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:32:13 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:32:13 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:32:13 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:32:13 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:32:13 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:32:13 INFO : getFileStatus(/hit_data.tsv.10000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.10000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:32:14 INFO : tachyon.client.TachyonFS@7bfcbd86 s3n://2012-05-19-sample /hit_data.tsv.10000 tachyon.PrefixList@dfee802
13/07/28 05:32:15 INFO : Create tachyon file /hit_data.tsv.10000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.10000
13/07/28 05:32:15 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:32:15 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:32:15 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:32:15 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:32:15 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:32:15 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:32:15 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:32:15 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:32:15 INFO local.LocalTaskSetManager: Size of task 0 is 1498 bytes
13/07/28 05:32:15 INFO local.LocalScheduler: Running 0
13/07/28 05:32:15 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:32:16 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:32:16 INFO : Try to find and read from remote workers.
13/07/28 05:32:16 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:32:16 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.10000' for reading
13/07/28 05:32:16 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:32:16 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:32:17 INFO local.LocalScheduler: Finished 0
13/07/28 05:32:17 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:32:17 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:32:17 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 1.485 s
13/07/28 05:32:17 INFO spark.SparkContext: Job finished: count at <console>:15, took 1.529736239 s
res0: Long = 10000

scala> 13/07/28 05:32:17 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:32:17 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:32:17 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:32:17 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:32:17 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:32:17 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:32:17 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:32:17 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:32:19,115 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:32:19,119 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:32:19,724 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:32:20,485 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:32:20,597 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:32:20,609 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:32:20,639 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:32:20,665 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:32:20,677 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:32:20,719 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:32:20,730 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:32:20,815 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:32:20,828 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:32:20,859 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:32:20,884 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:32:20,897 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
8494 tachyon.Master
8521 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:32:27 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:32:27 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:48642
Creating SparkContext...
13/07/28 05:32:36 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:32:36 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:32:36 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:32:36 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053236-f4dc
13/07/28 05:32:36 INFO network.ConnectionManager: Bound socket to port 52274 with id = ConnectionManagerId(tachyon-ec2-0,52274)
13/07/28 05:32:36 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:32:36 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:52274 with 1295.4 MB RAM
13/07/28 05:32:36 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:32:36 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:32:36 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35517
13/07/28 05:32:36 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:35517
13/07/28 05:32:36 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:32:36 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-6af7aac0-3be2-49d5-a2ad-3cfe129d1471
13/07/28 05:32:36 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:32:36 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:42286
13/07/28 05:32:36 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:32:36 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:32:36 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:32:36 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:32:36 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:32:36 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:32:36 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:32:36 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:32:36 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:32:36 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:32:36 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000")
13/07/28 05:32:38 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:32:38 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:32:38 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:32:38 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:32:38 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:32:38 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:32:38 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:32:38 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:32:38 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:32:38 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:32:38 INFO : getFileStatus(/hit_data.tsv.100000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:32:39 INFO : tachyon.client.TachyonFS@2c9a8680 s3n://2012-05-19-sample /hit_data.tsv.100000 tachyon.PrefixList@54f45460
13/07/28 05:32:40 INFO : Create tachyon file /hit_data.tsv.100000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100000
13/07/28 05:32:40 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:32:40 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:32:40 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:32:40 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:32:40 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:32:40 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:32:40 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:32:40 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:32:40 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:32:40 INFO local.LocalScheduler: Running 0
13/07/28 05:32:40 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:32:41 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:32:41 INFO : Try to find and read from remote workers.
13/07/28 05:32:41 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:32:41 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100000' for reading
13/07/28 05:32:41 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:32:41 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:32:49 INFO local.LocalScheduler: Finished 0
13/07/28 05:32:49 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:32:49 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:32:49 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 8.572 s
13/07/28 05:32:49 INFO spark.SparkContext: Job finished: count at <console>:15, took 8.618809033 s
res0: Long = 100002

scala> 13/07/28 05:32:49 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:32:49 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:32:49 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:32:49 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:32:49 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:32:49 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:32:49 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:32:49 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:32:51,187 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:32:51,190 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:32:51,785 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:32:52,535 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:32:52,670 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:32:52,688 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:32:52,726 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:32:52,757 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:32:52,774 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:32:52,853 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:32:52,868 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:32:52,962 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:32:52,977 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:32:53,016 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:32:53,060 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:32:53,073 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
9084 tachyon.Master
9111 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:32:59 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:32:59 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:58940
Creating SparkContext...
13/07/28 05:33:08 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:33:08 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:33:08 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:33:08 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053308-5cdd
13/07/28 05:33:08 INFO network.ConnectionManager: Bound socket to port 41628 with id = ConnectionManagerId(tachyon-ec2-0,41628)
13/07/28 05:33:08 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:33:08 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:41628 with 1295.4 MB RAM
13/07/28 05:33:08 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:33:08 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:33:08 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:58051
13/07/28 05:33:08 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:58051
13/07/28 05:33:08 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:33:08 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-71681c84-6a9f-408d-b769-2569677d1cec
13/07/28 05:33:08 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:33:08 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:53556
13/07/28 05:33:08 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:33:08 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:33:08 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:33:08 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:33:08 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:33:08 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:33:08 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:33:08 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:33:08 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:33:08 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:33:08 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000")
13/07/28 05:33:10 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:33:10 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:33:10 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:33:10 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:33:10 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:33:10 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:33:10 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:33:10 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:33:10 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:33:10 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:33:10 INFO : getFileStatus(/hit_data.tsv.500000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.500000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:33:11 INFO : tachyon.client.TachyonFS@18c15565 s3n://2012-05-19-sample /hit_data.tsv.500000 tachyon.PrefixList@3ccd6695
13/07/28 05:33:13 INFO : Create tachyon file /hit_data.tsv.500000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.500000
13/07/28 05:33:13 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:33:13 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:33:13 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:33:13 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:33:13 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:33:13 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:33:13 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:33:13 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:33:13 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:33:13 INFO local.LocalScheduler: Running 0
13/07/28 05:33:13 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:33:13 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:33:13 INFO : Try to find and read from remote workers.
13/07/28 05:33:13 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:33:13 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.500000' for reading
13/07/28 05:33:13 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:33:13 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:33:50 INFO local.LocalScheduler: Finished 0
13/07/28 05:33:50 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:33:50 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:33:50 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 37.360 s
13/07/28 05:33:50 INFO spark.SparkContext: Job finished: count at <console>:15, took 37.403830922 s
res0: Long = 500094

scala> 13/07/28 05:33:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:33:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:33:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:33:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:33:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:33:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:33:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:33:50 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:33:52,524 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:33:52,528 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:33:53,120 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:33:53,885 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:33:54,004 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:33:54,017 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:33:54,079 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:33:54,108 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:33:54,121 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:33:54,161 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:33:54,174 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:33:54,398 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:33:54,411 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:33:54,442 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:33:54,470 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:33:54,485 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

run11:

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
9798 tachyon.Master
9825 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:34:00 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:34:00 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:34734
Creating SparkContext...
13/07/28 05:34:10 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:34:10 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:34:10 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:34:10 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053410-6818
13/07/28 05:34:10 INFO network.ConnectionManager: Bound socket to port 56713 with id = ConnectionManagerId(tachyon-ec2-0,56713)
13/07/28 05:34:10 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:34:10 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:56713 with 1295.4 MB RAM
13/07/28 05:34:10 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:34:10 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:34:10 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:37017
13/07/28 05:34:10 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:37017
13/07/28 05:34:10 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:34:10 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-11e68fb0-dee3-446e-8057-9606e28af54e
13/07/28 05:34:10 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:34:10 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:45087
13/07/28 05:34:10 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:34:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:34:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:34:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:34:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:34:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:34:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:34:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:34:10 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:34:10 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:34:10 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1")
13/07/28 05:34:12 INFO storage.MemoryStore: ensureFreeSpace(58415) called with curMem=0, maxMem=1358297825
13/07/28 05:34:12 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.0 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:34:12 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:34:12 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:34:12 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:34:12 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:34:12 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:34:12 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:34:12 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:34:12 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:34:12 INFO : getFileStatus(/hit_data.tsv.1): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1
13/07/28 05:34:13 INFO : tachyon.client.TachyonFS@16015cf6 s3n://2012-05-19-sample /hit_data.tsv.1 tachyon.PrefixList@337e25c3
13/07/28 05:34:14 INFO : Create tachyon file /hit_data.tsv.1 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1
13/07/28 05:34:14 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:34:14 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:14 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:14 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:34:14 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:14 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:14 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:14 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:14 INFO local.LocalTaskSetManager: Size of task 0 is 1494 bytes
13/07/28 05:34:14 INFO local.LocalScheduler: Running 0
13/07/28 05:34:14 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:34:15 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:34:15 INFO : Try to find and read from remote workers.
13/07/28 05:34:15 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:34:15 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1' for reading
13/07/28 05:34:15 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:34:15 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:34:15 INFO local.LocalScheduler: Finished 0
13/07/28 05:34:15 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.432 s
13/07/28 05:34:15 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.476098567 s
res0: Long = 1

scala> s.count()
13/07/28 05:34:15 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Got job 1 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Final stage: Stage 1 (count at <console>:15)
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Submitting Stage 1 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 1 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:15 INFO local.LocalTaskSetManager: Size of task 1 is 1495 bytes
13/07/28 05:34:15 INFO local.LocalScheduler: Running 1
13/07/28 05:34:15 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:34:15 INFO local.LocalScheduler: Finished 1
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Completed ResultTask(1, 0)
13/07/28 05:34:15 INFO local.LocalScheduler: Remove TaskSet 1.0 from pool 
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Stage 1 (count at <console>:15) finished in 0.042 s
13/07/28 05:34:15 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.046229379 s
res1: Long = 1

scala> s.count()
13/07/28 05:34:15 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Got job 2 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Final stage: Stage 2 (count at <console>:15)
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Submitting Stage 2 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 2 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:15 INFO local.LocalTaskSetManager: Size of task 2 is 1495 bytes
13/07/28 05:34:15 INFO local.LocalScheduler: Running 2
13/07/28 05:34:15 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:34:15 INFO local.LocalScheduler: Finished 2
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Completed ResultTask(2, 0)
13/07/28 05:34:15 INFO local.LocalScheduler: Remove TaskSet 2.0 from pool 
13/07/28 05:34:15 INFO scheduler.DAGScheduler: Stage 2 (count at <console>:15) finished in 0.040 s
13/07/28 05:34:15 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.043367751 s
res2: Long = 1

scala> s.count()
13/07/28 05:34:16 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Got job 3 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Final stage: Stage 3 (count at <console>:15)
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Submitting Stage 3 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 3 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:16 INFO local.LocalTaskSetManager: Size of task 3 is 1495 bytes
13/07/28 05:34:16 INFO local.LocalScheduler: Running 3
13/07/28 05:34:16 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:34:16 INFO local.LocalScheduler: Finished 3
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Completed ResultTask(3, 0)
13/07/28 05:34:16 INFO local.LocalScheduler: Remove TaskSet 3.0 from pool 
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Stage 3 (count at <console>:15) finished in 0.040 s
13/07/28 05:34:16 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.043467352 s
res3: Long = 1

scala> s.count()
13/07/28 05:34:16 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Got job 4 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Final stage: Stage 4 (count at <console>:15)
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Submitting Stage 4 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 4 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:16 INFO local.LocalTaskSetManager: Size of task 4 is 1495 bytes
13/07/28 05:34:16 INFO local.LocalScheduler: Running 4
13/07/28 05:34:16 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:34:16 INFO local.LocalScheduler: Finished 4
13/07/28 05:34:16 INFO local.LocalScheduler: Remove TaskSet 4.0 from pool 
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Completed ResultTask(4, 0)
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Stage 4 (count at <console>:15) finished in 0.041 s
13/07/28 05:34:16 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.043745887 s
res4: Long = 1

scala> s.count()
13/07/28 05:34:16 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Got job 5 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Final stage: Stage 5 (count at <console>:15)
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Submitting Stage 5 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 5 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:16 INFO local.LocalTaskSetManager: Size of task 5 is 1495 bytes
13/07/28 05:34:16 INFO local.LocalScheduler: Running 5
13/07/28 05:34:16 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:34:16 INFO local.LocalScheduler: Finished 5
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Completed ResultTask(5, 0)
13/07/28 05:34:16 INFO local.LocalScheduler: Remove TaskSet 5.0 from pool 
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Stage 5 (count at <console>:15) finished in 0.041 s
13/07/28 05:34:16 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.044571865 s
res5: Long = 1

scala> s.count()
13/07/28 05:34:16 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Got job 6 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Final stage: Stage 6 (count at <console>:15)
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Submitting Stage 6 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 6 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:16 INFO local.LocalTaskSetManager: Size of task 6 is 1495 bytes
13/07/28 05:34:16 INFO local.LocalScheduler: Running 6
13/07/28 05:34:16 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:34:16 INFO local.LocalScheduler: Finished 6
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Completed ResultTask(6, 0)
13/07/28 05:34:16 INFO local.LocalScheduler: Remove TaskSet 6.0 from pool 
13/07/28 05:34:16 INFO scheduler.DAGScheduler: Stage 6 (count at <console>:15) finished in 0.040 s
13/07/28 05:34:16 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.043286967 s
res6: Long = 1

scala> s.count()
13/07/28 05:34:17 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Got job 7 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Final stage: Stage 7 (count at <console>:15)
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Submitting Stage 7 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 7 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:17 INFO local.LocalTaskSetManager: Size of task 7 is 1495 bytes
13/07/28 05:34:17 INFO local.LocalScheduler: Running 7
13/07/28 05:34:17 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:34:17 INFO local.LocalScheduler: Finished 7
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Completed ResultTask(7, 0)
13/07/28 05:34:17 INFO local.LocalScheduler: Remove TaskSet 7.0 from pool 
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Stage 7 (count at <console>:15) finished in 0.047 s
13/07/28 05:34:17 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.050972934 s
res7: Long = 1

scala> s.count()
13/07/28 05:34:17 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Got job 8 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Final stage: Stage 8 (count at <console>:15)
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Submitting Stage 8 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 8 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:17 INFO local.LocalTaskSetManager: Size of task 8 is 1495 bytes
13/07/28 05:34:17 INFO local.LocalScheduler: Running 8
13/07/28 05:34:17 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:34:17 INFO local.LocalScheduler: Finished 8
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Completed ResultTask(8, 0)
13/07/28 05:34:17 INFO local.LocalScheduler: Remove TaskSet 8.0 from pool 
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Stage 8 (count at <console>:15) finished in 0.032 s
13/07/28 05:34:17 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.035333153 s
res8: Long = 1

scala> s.count()
13/07/28 05:34:17 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Got job 9 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Final stage: Stage 9 (count at <console>:15)
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Submitting Stage 9 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 9 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:17 INFO local.LocalTaskSetManager: Size of task 9 is 1495 bytes
13/07/28 05:34:17 INFO local.LocalScheduler: Running 9
13/07/28 05:34:17 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:34:17 INFO local.LocalScheduler: Finished 9
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Completed ResultTask(9, 0)
13/07/28 05:34:17 INFO local.LocalScheduler: Remove TaskSet 9.0 from pool 
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Stage 9 (count at <console>:15) finished in 0.031 s
13/07/28 05:34:17 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.033838982 s
res9: Long = 1

scala> s.count()
13/07/28 05:34:17 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Got job 10 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Final stage: Stage 10 (count at <console>:15)
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Submitting Stage 10 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 10 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:17 INFO local.LocalTaskSetManager: Size of task 10 is 1495 bytes
13/07/28 05:34:17 INFO local.LocalScheduler: Running 10
13/07/28 05:34:17 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1, 65536)
13/07/28 05:34:17 INFO local.LocalScheduler: Finished 10
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Completed ResultTask(10, 0)
13/07/28 05:34:17 INFO local.LocalScheduler: Remove TaskSet 10.0 from pool 
13/07/28 05:34:17 INFO scheduler.DAGScheduler: Stage 10 (count at <console>:15) finished in 0.030 s
13/07/28 05:34:17 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.033198343 s
res10: Long = 1

scala> 13/07/28 05:34:18 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:34:18 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:34:18 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:34:18 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:34:18 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:34:18 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:34:18 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:34:18 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:34:19,663 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:34:19,679 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:34:20,281 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:34:21,042 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:34:21,173 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:34:21,186 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:34:21,217 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:34:21,264 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:34:21,276 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:34:21,317 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:34:21,330 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:34:21,414 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:34:21,427 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:34:21,458 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:34:21,483 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:34:21,497 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
10460 tachyon.Master
10487 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:34:27 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:34:27 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:57958
Creating SparkContext...
13/07/28 05:34:37 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:34:37 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:34:37 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:34:37 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053437-ec13
13/07/28 05:34:37 INFO network.ConnectionManager: Bound socket to port 34422 with id = ConnectionManagerId(tachyon-ec2-0,34422)
13/07/28 05:34:37 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:34:37 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:34422 with 1295.4 MB RAM
13/07/28 05:34:37 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:34:37 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:34:37 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:39095
13/07/28 05:34:37 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:39095
13/07/28 05:34:37 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:34:37 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-1bdb68bd-3040-4ad6-b2ee-09a2f115cddf
13/07/28 05:34:37 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:34:37 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43083
13/07/28 05:34:37 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:34:37 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:34:37 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:34:37 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:34:37 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:34:37 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:34:37 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:34:37 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:34:37 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:34:37 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:34:37 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100")
13/07/28 05:34:38 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:34:38 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:34:39 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:34:39 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:34:39 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:34:39 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:34:39 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:34:39 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:34:39 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:34:39 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:34:39 INFO : getFileStatus(/hit_data.tsv.100): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100
13/07/28 05:34:40 INFO : tachyon.client.TachyonFS@6bc41ec9 s3n://2012-05-19-sample /hit_data.tsv.100 tachyon.PrefixList@18c15565
13/07/28 05:34:41 INFO : Create tachyon file /hit_data.tsv.100 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100
13/07/28 05:34:41 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:34:41 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:41 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:41 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:34:41 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:41 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:41 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:41 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:41 INFO local.LocalTaskSetManager: Size of task 0 is 1496 bytes
13/07/28 05:34:41 INFO local.LocalScheduler: Running 0
13/07/28 05:34:41 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:34:41 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:34:41 INFO : Try to find and read from remote workers.
13/07/28 05:34:41 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:34:41 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100' for reading
13/07/28 05:34:41 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:34:41 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:34:42 INFO local.LocalScheduler: Finished 0
13/07/28 05:34:42 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.481 s
13/07/28 05:34:42 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.525691593 s
res0: Long = 100

scala> s.count()
13/07/28 05:34:42 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Got job 1 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Final stage: Stage 1 (count at <console>:15)
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Submitting Stage 1 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 1 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:42 INFO local.LocalTaskSetManager: Size of task 1 is 1497 bytes
13/07/28 05:34:42 INFO local.LocalScheduler: Running 1
13/07/28 05:34:42 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:34:42 INFO local.LocalScheduler: Finished 1
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Completed ResultTask(1, 0)
13/07/28 05:34:42 INFO local.LocalScheduler: Remove TaskSet 1.0 from pool 
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Stage 1 (count at <console>:15) finished in 0.046 s
13/07/28 05:34:42 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.048936285 s
res1: Long = 100

scala> s.count()
13/07/28 05:34:42 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Got job 2 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Final stage: Stage 2 (count at <console>:15)
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Submitting Stage 2 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 2 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:42 INFO local.LocalTaskSetManager: Size of task 2 is 1497 bytes
13/07/28 05:34:42 INFO local.LocalScheduler: Running 2
13/07/28 05:34:42 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:34:42 INFO local.LocalScheduler: Finished 2
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Completed ResultTask(2, 0)
13/07/28 05:34:42 INFO local.LocalScheduler: Remove TaskSet 2.0 from pool 
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Stage 2 (count at <console>:15) finished in 0.042 s
13/07/28 05:34:42 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.045343027 s
res2: Long = 100

scala> s.count()
13/07/28 05:34:42 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Got job 3 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Final stage: Stage 3 (count at <console>:15)
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Submitting Stage 3 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 3 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:42 INFO local.LocalTaskSetManager: Size of task 3 is 1497 bytes
13/07/28 05:34:42 INFO local.LocalScheduler: Running 3
13/07/28 05:34:42 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:34:42 INFO local.LocalScheduler: Finished 3
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Completed ResultTask(3, 0)
13/07/28 05:34:42 INFO local.LocalScheduler: Remove TaskSet 3.0 from pool 
13/07/28 05:34:42 INFO scheduler.DAGScheduler: Stage 3 (count at <console>:15) finished in 0.047 s
13/07/28 05:34:42 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.050095024 s
res3: Long = 100

scala> s.count()
13/07/28 05:34:43 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Got job 4 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Final stage: Stage 4 (count at <console>:15)
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Submitting Stage 4 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 4 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:43 INFO local.LocalTaskSetManager: Size of task 4 is 1497 bytes
13/07/28 05:34:43 INFO local.LocalScheduler: Running 4
13/07/28 05:34:43 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:34:43 INFO local.LocalScheduler: Finished 4
13/07/28 05:34:43 INFO local.LocalScheduler: Remove TaskSet 4.0 from pool 
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Completed ResultTask(4, 0)
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Stage 4 (count at <console>:15) finished in 0.043 s
13/07/28 05:34:43 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.046101339 s
res4: Long = 100

scala> s.count()
13/07/28 05:34:43 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Got job 5 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Final stage: Stage 5 (count at <console>:15)
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Submitting Stage 5 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 5 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:43 INFO local.LocalTaskSetManager: Size of task 5 is 1497 bytes
13/07/28 05:34:43 INFO local.LocalScheduler: Running 5
13/07/28 05:34:43 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:34:43 INFO local.LocalScheduler: Finished 5
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Completed ResultTask(5, 0)
13/07/28 05:34:43 INFO local.LocalScheduler: Remove TaskSet 5.0 from pool 
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Stage 5 (count at <console>:15) finished in 0.043 s
13/07/28 05:34:43 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.046778787 s
res5: Long = 100

scala> s.count()
13/07/28 05:34:43 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Got job 6 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Final stage: Stage 6 (count at <console>:15)
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Submitting Stage 6 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 6 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:43 INFO local.LocalTaskSetManager: Size of task 6 is 1497 bytes
13/07/28 05:34:43 INFO local.LocalScheduler: Running 6
13/07/28 05:34:43 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:34:43 INFO local.LocalScheduler: Finished 6
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Completed ResultTask(6, 0)
13/07/28 05:34:43 INFO local.LocalScheduler: Remove TaskSet 6.0 from pool 
13/07/28 05:34:43 INFO scheduler.DAGScheduler: Stage 6 (count at <console>:15) finished in 0.041 s
13/07/28 05:34:43 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.044610192 s
res6: Long = 100

scala> s.count()
13/07/28 05:34:44 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Got job 7 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Final stage: Stage 7 (count at <console>:15)
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Submitting Stage 7 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 7 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:44 INFO local.LocalTaskSetManager: Size of task 7 is 1497 bytes
13/07/28 05:34:44 INFO local.LocalScheduler: Running 7
13/07/28 05:34:44 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:34:44 INFO local.LocalScheduler: Finished 7
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Completed ResultTask(7, 0)
13/07/28 05:34:44 INFO local.LocalScheduler: Remove TaskSet 7.0 from pool 
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Stage 7 (count at <console>:15) finished in 0.044 s
13/07/28 05:34:44 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.046724647 s
res7: Long = 100

scala> s.count()
13/07/28 05:34:44 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Got job 8 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Final stage: Stage 8 (count at <console>:15)
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Submitting Stage 8 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 8 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:44 INFO local.LocalTaskSetManager: Size of task 8 is 1497 bytes
13/07/28 05:34:44 INFO local.LocalScheduler: Running 8
13/07/28 05:34:44 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:34:44 INFO local.LocalScheduler: Finished 8
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Completed ResultTask(8, 0)
13/07/28 05:34:44 INFO local.LocalScheduler: Remove TaskSet 8.0 from pool 
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Stage 8 (count at <console>:15) finished in 0.042 s
13/07/28 05:34:44 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.044958358 s
res8: Long = 100

scala> s.count()
13/07/28 05:34:44 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Got job 9 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Final stage: Stage 9 (count at <console>:15)
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Submitting Stage 9 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 9 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:44 INFO local.LocalTaskSetManager: Size of task 9 is 1497 bytes
13/07/28 05:34:44 INFO local.LocalScheduler: Running 9
13/07/28 05:34:44 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:34:44 INFO local.LocalScheduler: Finished 9
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Completed ResultTask(9, 0)
13/07/28 05:34:44 INFO local.LocalScheduler: Remove TaskSet 9.0 from pool 
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Stage 9 (count at <console>:15) finished in 0.032 s
13/07/28 05:34:44 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.034350907 s
res9: Long = 100

scala> s.count()
13/07/28 05:34:44 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Got job 10 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Final stage: Stage 10 (count at <console>:15)
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Submitting Stage 10 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 10 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:34:44 INFO local.LocalTaskSetManager: Size of task 10 is 1497 bytes
13/07/28 05:34:44 INFO local.LocalScheduler: Running 10
13/07/28 05:34:44 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100, 65536)
13/07/28 05:34:44 INFO local.LocalScheduler: Finished 10
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Completed ResultTask(10, 0)
13/07/28 05:34:44 INFO local.LocalScheduler: Remove TaskSet 10.0 from pool 
13/07/28 05:34:44 INFO scheduler.DAGScheduler: Stage 10 (count at <console>:15) finished in 0.031 s
13/07/28 05:34:44 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.034659684 s
res10: Long = 100

scala> 13/07/28 05:34:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:34:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:34:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:34:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:34:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:34:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:34:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:34:44 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:34:46,509 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:34:46,513 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:34:47,113 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:34:47,896 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:34:48,020 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:34:48,032 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:34:48,065 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:34:48,093 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:34:48,107 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:34:48,150 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:34:48,164 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:34:48,265 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:34:48,278 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:34:48,314 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:34:48,341 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:34:48,355 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
11124 tachyon.Master
11151 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:34:54 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:34:54 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:36699
Creating SparkContext...
13/07/28 05:35:04 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:35:04 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:35:04 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:35:04 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053504-da17
13/07/28 05:35:04 INFO network.ConnectionManager: Bound socket to port 56186 with id = ConnectionManagerId(tachyon-ec2-0,56186)
13/07/28 05:35:04 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:35:04 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:56186 with 1295.4 MB RAM
13/07/28 05:35:04 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:35:04 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:35:04 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44073
13/07/28 05:35:04 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:44073
13/07/28 05:35:04 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:35:04 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-a426dd59-9d4e-4a92-a42f-8a87f20c26cf
13/07/28 05:35:04 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:35:04 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:53504
13/07/28 05:35:04 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:35:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:35:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:35:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:35:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:35:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:35:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:35:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:35:04 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:35:04 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:35:04 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000")
13/07/28 05:35:05 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:35:05 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:35:06 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:35:06 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:35:06 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:35:06 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:35:06 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:35:06 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:35:06 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:35:06 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:35:06 INFO : getFileStatus(/hit_data.tsv.1000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.1000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000
13/07/28 05:35:07 INFO : tachyon.client.TachyonFS@2aa13666 s3n://2012-05-19-sample /hit_data.tsv.1000 tachyon.PrefixList@3dfa7867
13/07/28 05:35:08 INFO : Create tachyon file /hit_data.tsv.1000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.1000
13/07/28 05:35:08 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:35:08 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:08 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:08 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:35:08 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:08 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:08 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:08 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:08 INFO local.LocalTaskSetManager: Size of task 0 is 1497 bytes
13/07/28 05:35:08 INFO local.LocalScheduler: Running 0
13/07/28 05:35:08 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:35:08 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:35:08 INFO : Try to find and read from remote workers.
13/07/28 05:35:08 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:35:08 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.1000' for reading
13/07/28 05:35:09 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:35:09 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:35:09 INFO local.LocalScheduler: Finished 0
13/07/28 05:35:09 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 0.667 s
13/07/28 05:35:09 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.710660864 s
res0: Long = 1000

scala> s.count()
13/07/28 05:35:09 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Got job 1 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Final stage: Stage 1 (count at <console>:15)
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Submitting Stage 1 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 1 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:09 INFO local.LocalTaskSetManager: Size of task 1 is 1498 bytes
13/07/28 05:35:09 INFO local.LocalScheduler: Running 1
13/07/28 05:35:09 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:35:09 INFO local.LocalScheduler: Finished 1
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Completed ResultTask(1, 0)
13/07/28 05:35:09 INFO local.LocalScheduler: Remove TaskSet 1.0 from pool 
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Stage 1 (count at <console>:15) finished in 0.060 s
13/07/28 05:35:09 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.063219234 s
res1: Long = 1000

scala> s.count()
13/07/28 05:35:09 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Got job 2 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Final stage: Stage 2 (count at <console>:15)
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Submitting Stage 2 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 2 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:09 INFO local.LocalTaskSetManager: Size of task 2 is 1498 bytes
13/07/28 05:35:09 INFO local.LocalScheduler: Running 2
13/07/28 05:35:09 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:35:09 INFO local.LocalScheduler: Finished 2
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Completed ResultTask(2, 0)
13/07/28 05:35:09 INFO local.LocalScheduler: Remove TaskSet 2.0 from pool 
13/07/28 05:35:09 INFO scheduler.DAGScheduler: Stage 2 (count at <console>:15) finished in 0.058 s
13/07/28 05:35:09 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.060720219 s
res2: Long = 1000

scala> s.count()
13/07/28 05:35:10 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Got job 3 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Final stage: Stage 3 (count at <console>:15)
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Submitting Stage 3 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 3 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:10 INFO local.LocalTaskSetManager: Size of task 3 is 1498 bytes
13/07/28 05:35:10 INFO local.LocalScheduler: Running 3
13/07/28 05:35:10 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:35:10 INFO local.LocalScheduler: Finished 3
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Completed ResultTask(3, 0)
13/07/28 05:35:10 INFO local.LocalScheduler: Remove TaskSet 3.0 from pool 
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Stage 3 (count at <console>:15) finished in 0.054 s
13/07/28 05:35:10 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.057177835 s
res3: Long = 1000

scala> s.count()
13/07/28 05:35:10 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Got job 4 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Final stage: Stage 4 (count at <console>:15)
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Submitting Stage 4 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 4 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:10 INFO local.LocalTaskSetManager: Size of task 4 is 1498 bytes
13/07/28 05:35:10 INFO local.LocalScheduler: Running 4
13/07/28 05:35:10 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:35:10 INFO local.LocalScheduler: Finished 4
13/07/28 05:35:10 INFO local.LocalScheduler: Remove TaskSet 4.0 from pool 
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Completed ResultTask(4, 0)
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Stage 4 (count at <console>:15) finished in 0.052 s
13/07/28 05:35:10 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.055221731 s
res4: Long = 1000

scala> s.count()
13/07/28 05:35:10 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Got job 5 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Final stage: Stage 5 (count at <console>:15)
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Submitting Stage 5 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 5 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:10 INFO local.LocalTaskSetManager: Size of task 5 is 1498 bytes
13/07/28 05:35:10 INFO local.LocalScheduler: Running 5
13/07/28 05:35:10 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:35:10 INFO local.LocalScheduler: Finished 5
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Completed ResultTask(5, 0)
13/07/28 05:35:10 INFO local.LocalScheduler: Remove TaskSet 5.0 from pool 
13/07/28 05:35:10 INFO scheduler.DAGScheduler: Stage 5 (count at <console>:15) finished in 0.052 s
13/07/28 05:35:10 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.054988941 s
res5: Long = 1000

scala> s.count()
13/07/28 05:35:11 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Got job 6 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Final stage: Stage 6 (count at <console>:15)
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Submitting Stage 6 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 6 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:11 INFO local.LocalTaskSetManager: Size of task 6 is 1498 bytes
13/07/28 05:35:11 INFO local.LocalScheduler: Running 6
13/07/28 05:35:11 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:35:11 INFO local.LocalScheduler: Finished 6
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Completed ResultTask(6, 0)
13/07/28 05:35:11 INFO local.LocalScheduler: Remove TaskSet 6.0 from pool 
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Stage 6 (count at <console>:15) finished in 0.049 s
13/07/28 05:35:11 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.051773612 s
res6: Long = 1000

scala> s.count()
13/07/28 05:35:11 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Got job 7 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Final stage: Stage 7 (count at <console>:15)
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Submitting Stage 7 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 7 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:11 INFO local.LocalTaskSetManager: Size of task 7 is 1498 bytes
13/07/28 05:35:11 INFO local.LocalScheduler: Running 7
13/07/28 05:35:11 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:35:11 INFO local.LocalScheduler: Finished 7
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Completed ResultTask(7, 0)
13/07/28 05:35:11 INFO local.LocalScheduler: Remove TaskSet 7.0 from pool 
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Stage 7 (count at <console>:15) finished in 0.065 s
13/07/28 05:35:11 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.068317251 s
res7: Long = 1000

scala> s.count()
13/07/28 05:35:11 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Got job 8 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Final stage: Stage 8 (count at <console>:15)
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Submitting Stage 8 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 8 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:11 INFO local.LocalTaskSetManager: Size of task 8 is 1498 bytes
13/07/28 05:35:11 INFO local.LocalScheduler: Running 8
13/07/28 05:35:11 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:35:11 INFO local.LocalScheduler: Finished 8
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Completed ResultTask(8, 0)
13/07/28 05:35:11 INFO local.LocalScheduler: Remove TaskSet 8.0 from pool 
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Stage 8 (count at <console>:15) finished in 0.042 s
13/07/28 05:35:11 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.044462336 s
res8: Long = 1000

scala> s.count()
13/07/28 05:35:11 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Got job 9 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Final stage: Stage 9 (count at <console>:15)
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Submitting Stage 9 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 9 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:11 INFO local.LocalTaskSetManager: Size of task 9 is 1498 bytes
13/07/28 05:35:11 INFO local.LocalScheduler: Running 9
13/07/28 05:35:11 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:35:11 INFO local.LocalScheduler: Finished 9
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Completed ResultTask(9, 0)
13/07/28 05:35:11 INFO local.LocalScheduler: Remove TaskSet 9.0 from pool 
13/07/28 05:35:11 INFO scheduler.DAGScheduler: Stage 9 (count at <console>:15) finished in 0.052 s
13/07/28 05:35:11 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.055570315 s
res9: Long = 1000

scala> s.count()
13/07/28 05:35:12 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:12 INFO scheduler.DAGScheduler: Got job 10 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:12 INFO scheduler.DAGScheduler: Final stage: Stage 10 (count at <console>:15)
13/07/28 05:35:12 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:12 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:12 INFO scheduler.DAGScheduler: Submitting Stage 10 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:12 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 10 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:12 INFO local.LocalTaskSetManager: Size of task 10 is 1498 bytes
13/07/28 05:35:12 INFO local.LocalScheduler: Running 10
13/07/28 05:35:12 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.1000, 65536)
13/07/28 05:35:12 INFO local.LocalScheduler: Finished 10
13/07/28 05:35:12 INFO scheduler.DAGScheduler: Completed ResultTask(10, 0)
13/07/28 05:35:12 INFO local.LocalScheduler: Remove TaskSet 10.0 from pool 
13/07/28 05:35:12 INFO scheduler.DAGScheduler: Stage 10 (count at <console>:15) finished in 0.048 s
13/07/28 05:35:12 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.051682921 s
res10: Long = 1000

scala> 13/07/28 05:35:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:35:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:35:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:35:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:35:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:35:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:35:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:35:12 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:35:13,891 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:35:13,894 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:35:14,486 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:35:15,237 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:35:15,366 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:35:15,381 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:35:15,418 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:35:15,446 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:35:15,462 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:35:15,505 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:35:15,521 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:35:15,610 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:35:15,622 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:35:15,655 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:35:15,686 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:35:15,698 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
11789 tachyon.Master
11816 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:35:22 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:35:22 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:39536
Creating SparkContext...
13/07/28 05:35:31 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:35:31 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:35:31 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:35:31 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053531-5ad3
13/07/28 05:35:31 INFO network.ConnectionManager: Bound socket to port 39406 with id = ConnectionManagerId(tachyon-ec2-0,39406)
13/07/28 05:35:31 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:35:31 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:39406 with 1295.4 MB RAM
13/07/28 05:35:31 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:35:31 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:35:31 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:47019
13/07/28 05:35:31 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:47019
13/07/28 05:35:31 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:35:31 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-e128567d-73d0-4070-a65d-87ecb20ff92c
13/07/28 05:35:31 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:35:31 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:44432
13/07/28 05:35:31 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:35:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:35:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:35:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:35:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:35:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:35:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:35:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:35:31 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:35:31 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:35:31 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000")
13/07/28 05:35:33 INFO storage.MemoryStore: ensureFreeSpace(58423) called with curMem=0, maxMem=1358297825
13/07/28 05:35:33 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:35:33 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:35:33 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:35:33 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:35:33 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:35:33 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:35:33 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:35:33 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:35:33 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:35:33 INFO : getFileStatus(/hit_data.tsv.10000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.10000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000
13/07/28 05:35:34 INFO : tachyon.client.TachyonFS@6d7c5d00 s3n://2012-05-19-sample /hit_data.tsv.10000 tachyon.PrefixList@7fbde327
13/07/28 05:35:35 INFO : Create tachyon file /hit_data.tsv.10000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.10000
13/07/28 05:35:35 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:35:35 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:35 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:35 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:35:35 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:35 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:35 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:35 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:35 INFO local.LocalTaskSetManager: Size of task 0 is 1498 bytes
13/07/28 05:35:35 INFO local.LocalScheduler: Running 0
13/07/28 05:35:35 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:35:36 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:35:36 INFO : Try to find and read from remote workers.
13/07/28 05:35:36 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:35:36 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.10000' for reading
13/07/28 05:35:36 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:35:36 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:35:37 INFO local.LocalScheduler: Finished 0
13/07/28 05:35:37 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 1.466 s
13/07/28 05:35:37 INFO spark.SparkContext: Job finished: count at <console>:15, took 1.5109957 s
res0: Long = 10000

scala> s.count()
13/07/28 05:35:37 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Got job 1 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Final stage: Stage 1 (count at <console>:15)
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Submitting Stage 1 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 1 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:37 INFO local.LocalTaskSetManager: Size of task 1 is 1499 bytes
13/07/28 05:35:37 INFO local.LocalScheduler: Running 1
13/07/28 05:35:37 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:35:37 INFO local.LocalScheduler: Finished 1
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Completed ResultTask(1, 0)
13/07/28 05:35:37 INFO local.LocalScheduler: Remove TaskSet 1.0 from pool 
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Stage 1 (count at <console>:15) finished in 0.114 s
13/07/28 05:35:37 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.118109757 s
res1: Long = 10000

scala> s.count()
13/07/28 05:35:37 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Got job 2 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Final stage: Stage 2 (count at <console>:15)
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Submitting Stage 2 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:37 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 2 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:37 INFO local.LocalTaskSetManager: Size of task 2 is 1499 bytes
13/07/28 05:35:37 INFO local.LocalScheduler: Running 2
13/07/28 05:35:38 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:35:38 INFO local.LocalScheduler: Finished 2
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Completed ResultTask(2, 0)
13/07/28 05:35:38 INFO local.LocalScheduler: Remove TaskSet 2.0 from pool 
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Stage 2 (count at <console>:15) finished in 0.124 s
13/07/28 05:35:38 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.127704898 s
res2: Long = 10000

scala> s.count()
13/07/28 05:35:38 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Got job 3 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Final stage: Stage 3 (count at <console>:15)
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Submitting Stage 3 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 3 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:38 INFO local.LocalTaskSetManager: Size of task 3 is 1499 bytes
13/07/28 05:35:38 INFO local.LocalScheduler: Running 3
13/07/28 05:35:38 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:35:38 INFO local.LocalScheduler: Finished 3
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Completed ResultTask(3, 0)
13/07/28 05:35:38 INFO local.LocalScheduler: Remove TaskSet 3.0 from pool 
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Stage 3 (count at <console>:15) finished in 0.113 s
13/07/28 05:35:38 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.116579032 s
res3: Long = 10000

scala> s.count()
13/07/28 05:35:38 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Got job 4 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Final stage: Stage 4 (count at <console>:15)
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Submitting Stage 4 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 4 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:38 INFO local.LocalTaskSetManager: Size of task 4 is 1499 bytes
13/07/28 05:35:38 INFO local.LocalScheduler: Running 4
13/07/28 05:35:38 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:35:38 INFO local.LocalScheduler: Finished 4
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Completed ResultTask(4, 0)
13/07/28 05:35:38 INFO local.LocalScheduler: Remove TaskSet 4.0 from pool 
13/07/28 05:35:38 INFO scheduler.DAGScheduler: Stage 4 (count at <console>:15) finished in 0.236 s
13/07/28 05:35:38 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.239243862 s
res4: Long = 10000

scala> s.count()
13/07/28 05:35:39 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Got job 5 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Final stage: Stage 5 (count at <console>:15)
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Submitting Stage 5 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 5 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:39 INFO local.LocalTaskSetManager: Size of task 5 is 1499 bytes
13/07/28 05:35:39 INFO local.LocalScheduler: Running 5
13/07/28 05:35:39 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:35:39 INFO local.LocalScheduler: Finished 5
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Completed ResultTask(5, 0)
13/07/28 05:35:39 INFO local.LocalScheduler: Remove TaskSet 5.0 from pool 
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Stage 5 (count at <console>:15) finished in 0.115 s
13/07/28 05:35:39 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.118800636 s
res5: Long = 10000

scala> s.count()
13/07/28 05:35:39 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Got job 6 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Final stage: Stage 6 (count at <console>:15)
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Submitting Stage 6 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 6 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:39 INFO local.LocalTaskSetManager: Size of task 6 is 1499 bytes
13/07/28 05:35:39 INFO local.LocalScheduler: Running 6
13/07/28 05:35:39 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:35:39 INFO local.LocalScheduler: Finished 6
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Completed ResultTask(6, 0)
13/07/28 05:35:39 INFO local.LocalScheduler: Remove TaskSet 6.0 from pool 
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Stage 6 (count at <console>:15) finished in 0.114 s
13/07/28 05:35:39 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.117344365 s
res6: Long = 10000

scala> s.count()
13/07/28 05:35:39 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Got job 7 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Final stage: Stage 7 (count at <console>:15)
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Submitting Stage 7 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:39 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 7 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:39 INFO local.LocalTaskSetManager: Size of task 7 is 1499 bytes
13/07/28 05:35:39 INFO local.LocalScheduler: Running 7
13/07/28 05:35:39 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:35:40 INFO local.LocalScheduler: Finished 7
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Completed ResultTask(7, 0)
13/07/28 05:35:40 INFO local.LocalScheduler: Remove TaskSet 7.0 from pool 
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Stage 7 (count at <console>:15) finished in 0.126 s
13/07/28 05:35:40 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.129591599 s
res7: Long = 10000

scala> s.count()
13/07/28 05:35:40 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Got job 8 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Final stage: Stage 8 (count at <console>:15)
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Submitting Stage 8 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 8 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:40 INFO local.LocalTaskSetManager: Size of task 8 is 1499 bytes
13/07/28 05:35:40 INFO local.LocalScheduler: Running 8
13/07/28 05:35:40 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:35:40 INFO local.LocalScheduler: Finished 8
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Completed ResultTask(8, 0)
13/07/28 05:35:40 INFO local.LocalScheduler: Remove TaskSet 8.0 from pool 
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Stage 8 (count at <console>:15) finished in 0.102 s
13/07/28 05:35:40 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.105300134 s
res8: Long = 10000

scala> s.count()
13/07/28 05:35:40 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Got job 9 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Final stage: Stage 9 (count at <console>:15)
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Submitting Stage 9 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 9 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:40 INFO local.LocalTaskSetManager: Size of task 9 is 1499 bytes
13/07/28 05:35:40 INFO local.LocalScheduler: Running 9
13/07/28 05:35:40 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:35:40 INFO local.LocalScheduler: Finished 9
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Completed ResultTask(9, 0)
13/07/28 05:35:40 INFO local.LocalScheduler: Remove TaskSet 9.0 from pool 
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Stage 9 (count at <console>:15) finished in 0.105 s
13/07/28 05:35:40 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.108348148 s
res9: Long = 10000

scala> s.count()
13/07/28 05:35:40 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Got job 10 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Final stage: Stage 10 (count at <console>:15)
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Submitting Stage 10 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 10 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:35:40 INFO local.LocalTaskSetManager: Size of task 10 is 1499 bytes
13/07/28 05:35:40 INFO local.LocalScheduler: Running 10
13/07/28 05:35:40 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.10000, 65536)
13/07/28 05:35:40 INFO local.LocalScheduler: Finished 10
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Completed ResultTask(10, 0)
13/07/28 05:35:40 INFO local.LocalScheduler: Remove TaskSet 10.0 from pool 
13/07/28 05:35:40 INFO scheduler.DAGScheduler: Stage 10 (count at <console>:15) finished in 0.102 s
13/07/28 05:35:40 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.104597218 s
res10: Long = 10000

scala> 13/07/28 05:35:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:35:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:35:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:35:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:35:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:35:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:35:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:35:41 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:35:42,665 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:35:42,669 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:35:43,262 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:35:44,017 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:35:44,163 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:35:44,181 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:35:44,215 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:35:44,252 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:35:44,271 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:35:44,326 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:35:44,340 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:35:44,435 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:35:44,450 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:35:44,488 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:35:44,514 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:35:44,535 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
12458 tachyon.Master
12485 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:35:50 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:35:50 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:42706
Creating SparkContext...
13/07/28 05:36:00 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:36:00 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:36:00 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:36:00 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053600-df85
13/07/28 05:36:00 INFO network.ConnectionManager: Bound socket to port 54310 with id = ConnectionManagerId(tachyon-ec2-0,54310)
13/07/28 05:36:00 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:36:00 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:54310 with 1295.4 MB RAM
13/07/28 05:36:00 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:36:00 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:36:00 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:48230
13/07/28 05:36:00 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:48230
13/07/28 05:36:00 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:36:00 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-0bfbc7a9-57a1-442a-8cf5-34a7052bf958
13/07/28 05:36:00 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:36:00 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:40706
13/07/28 05:36:00 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:36:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:36:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:36:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:36:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:36:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:36:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:36:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:36:00 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:36:00 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:36:00 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000")
13/07/28 05:36:01 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:36:01 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:36:02 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:36:02 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:36:02 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:36:02 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:36:02 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:36:02 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:36:02 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:36:02 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:36:02 INFO : getFileStatus(/hit_data.tsv.100000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.100000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000
13/07/28 05:36:03 INFO : tachyon.client.TachyonFS@10c2780 s3n://2012-05-19-sample /hit_data.tsv.100000 tachyon.PrefixList@44f54509
13/07/28 05:36:04 INFO : Create tachyon file /hit_data.tsv.100000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.100000
13/07/28 05:36:04 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:36:04 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:04 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:04 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:36:04 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:04 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:04 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:04 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:04 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:36:04 INFO local.LocalScheduler: Running 0
13/07/28 05:36:04 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:36:04 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:36:04 INFO : Try to find and read from remote workers.
13/07/28 05:36:04 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:36:04 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.100000' for reading
13/07/28 05:36:05 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:36:05 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:36:12 INFO local.LocalScheduler: Finished 0
13/07/28 05:36:12 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:36:12 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:36:12 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 7.701 s
13/07/28 05:36:12 INFO spark.SparkContext: Job finished: count at <console>:15, took 7.745207663 s
res0: Long = 100002

scala> s.count()
13/07/28 05:36:12 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:12 INFO scheduler.DAGScheduler: Got job 1 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:12 INFO scheduler.DAGScheduler: Final stage: Stage 1 (count at <console>:15)
13/07/28 05:36:12 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:12 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:12 INFO scheduler.DAGScheduler: Submitting Stage 1 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:12 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 1 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:12 INFO local.LocalTaskSetManager: Size of task 1 is 1500 bytes
13/07/28 05:36:12 INFO local.LocalScheduler: Running 1
13/07/28 05:36:12 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:36:13 INFO local.LocalScheduler: Finished 1
13/07/28 05:36:13 INFO scheduler.DAGScheduler: Completed ResultTask(1, 0)
13/07/28 05:36:13 INFO local.LocalScheduler: Remove TaskSet 1.0 from pool 
13/07/28 05:36:13 INFO scheduler.DAGScheduler: Stage 1 (count at <console>:15) finished in 0.859 s
13/07/28 05:36:13 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.862997066 s
res1: Long = 100002

scala> s.count()
13/07/28 05:36:13 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:13 INFO scheduler.DAGScheduler: Got job 2 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:13 INFO scheduler.DAGScheduler: Final stage: Stage 2 (count at <console>:15)
13/07/28 05:36:13 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:13 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:13 INFO scheduler.DAGScheduler: Submitting Stage 2 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:13 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 2 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:13 INFO local.LocalTaskSetManager: Size of task 2 is 1500 bytes
13/07/28 05:36:13 INFO local.LocalScheduler: Running 2
13/07/28 05:36:13 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:36:14 INFO local.LocalScheduler: Finished 2
13/07/28 05:36:14 INFO scheduler.DAGScheduler: Completed ResultTask(2, 0)
13/07/28 05:36:14 INFO local.LocalScheduler: Remove TaskSet 2.0 from pool 
13/07/28 05:36:14 INFO scheduler.DAGScheduler: Stage 2 (count at <console>:15) finished in 0.835 s
13/07/28 05:36:14 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.839001185 s
res2: Long = 100002

scala> s.count()
13/07/28 05:36:14 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:14 INFO scheduler.DAGScheduler: Got job 3 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:14 INFO scheduler.DAGScheduler: Final stage: Stage 3 (count at <console>:15)
13/07/28 05:36:14 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:14 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:14 INFO scheduler.DAGScheduler: Submitting Stage 3 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:14 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 3 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:14 INFO local.LocalTaskSetManager: Size of task 3 is 1500 bytes
13/07/28 05:36:14 INFO local.LocalScheduler: Running 3
13/07/28 05:36:14 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:36:15 INFO local.LocalScheduler: Finished 3
13/07/28 05:36:15 INFO scheduler.DAGScheduler: Completed ResultTask(3, 0)
13/07/28 05:36:15 INFO local.LocalScheduler: Remove TaskSet 3.0 from pool 
13/07/28 05:36:15 INFO scheduler.DAGScheduler: Stage 3 (count at <console>:15) finished in 0.857 s
13/07/28 05:36:15 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.86083346 s
res3: Long = 100002

scala> s.count()
13/07/28 05:36:15 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:15 INFO scheduler.DAGScheduler: Got job 4 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:15 INFO scheduler.DAGScheduler: Final stage: Stage 4 (count at <console>:15)
13/07/28 05:36:15 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:15 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:15 INFO scheduler.DAGScheduler: Submitting Stage 4 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:15 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 4 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:15 INFO local.LocalTaskSetManager: Size of task 4 is 1500 bytes
13/07/28 05:36:15 INFO local.LocalScheduler: Running 4
13/07/28 05:36:15 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:36:16 INFO local.LocalScheduler: Finished 4
13/07/28 05:36:16 INFO scheduler.DAGScheduler: Completed ResultTask(4, 0)
13/07/28 05:36:16 INFO local.LocalScheduler: Remove TaskSet 4.0 from pool 
13/07/28 05:36:16 INFO scheduler.DAGScheduler: Stage 4 (count at <console>:15) finished in 0.839 s
13/07/28 05:36:16 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.842537416 s
res4: Long = 100002

scala> s.count()
13/07/28 05:36:17 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:17 INFO scheduler.DAGScheduler: Got job 5 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:17 INFO scheduler.DAGScheduler: Final stage: Stage 5 (count at <console>:15)
13/07/28 05:36:17 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:17 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:17 INFO scheduler.DAGScheduler: Submitting Stage 5 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:17 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 5 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:17 INFO local.LocalTaskSetManager: Size of task 5 is 1500 bytes
13/07/28 05:36:17 INFO local.LocalScheduler: Running 5
13/07/28 05:36:17 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:36:17 INFO local.LocalScheduler: Finished 5
13/07/28 05:36:17 INFO scheduler.DAGScheduler: Completed ResultTask(5, 0)
13/07/28 05:36:17 INFO local.LocalScheduler: Remove TaskSet 5.0 from pool 
13/07/28 05:36:17 INFO scheduler.DAGScheduler: Stage 5 (count at <console>:15) finished in 0.864 s
13/07/28 05:36:17 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.866980223 s
res5: Long = 100002

scala> s.count()
13/07/28 05:36:18 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:18 INFO scheduler.DAGScheduler: Got job 6 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:18 INFO scheduler.DAGScheduler: Final stage: Stage 6 (count at <console>:15)
13/07/28 05:36:18 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:18 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:18 INFO scheduler.DAGScheduler: Submitting Stage 6 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:18 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 6 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:18 INFO local.LocalTaskSetManager: Size of task 6 is 1500 bytes
13/07/28 05:36:18 INFO local.LocalScheduler: Running 6
13/07/28 05:36:18 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:36:18 INFO local.LocalScheduler: Finished 6
13/07/28 05:36:18 INFO scheduler.DAGScheduler: Completed ResultTask(6, 0)
13/07/28 05:36:18 INFO local.LocalScheduler: Remove TaskSet 6.0 from pool 
13/07/28 05:36:18 INFO scheduler.DAGScheduler: Stage 6 (count at <console>:15) finished in 0.786 s
13/07/28 05:36:18 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.788742868 s
res6: Long = 100002

scala> s.count()
13/07/28 05:36:19 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:19 INFO scheduler.DAGScheduler: Got job 7 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:19 INFO scheduler.DAGScheduler: Final stage: Stage 7 (count at <console>:15)
13/07/28 05:36:19 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:19 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:19 INFO scheduler.DAGScheduler: Submitting Stage 7 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:19 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 7 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:19 INFO local.LocalTaskSetManager: Size of task 7 is 1500 bytes
13/07/28 05:36:19 INFO local.LocalScheduler: Running 7
13/07/28 05:36:19 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:36:19 INFO local.LocalScheduler: Finished 7
13/07/28 05:36:19 INFO scheduler.DAGScheduler: Completed ResultTask(7, 0)
13/07/28 05:36:19 INFO local.LocalScheduler: Remove TaskSet 7.0 from pool 
13/07/28 05:36:19 INFO scheduler.DAGScheduler: Stage 7 (count at <console>:15) finished in 0.791 s
13/07/28 05:36:19 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.794358261 s
res7: Long = 100002

scala> s.count()
13/07/28 05:36:20 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:20 INFO scheduler.DAGScheduler: Got job 8 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:20 INFO scheduler.DAGScheduler: Final stage: Stage 8 (count at <console>:15)
13/07/28 05:36:20 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:20 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:20 INFO scheduler.DAGScheduler: Submitting Stage 8 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:20 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 8 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:20 INFO local.LocalTaskSetManager: Size of task 8 is 1500 bytes
13/07/28 05:36:20 INFO local.LocalScheduler: Running 8
13/07/28 05:36:20 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:36:20 INFO local.LocalScheduler: Finished 8
13/07/28 05:36:20 INFO scheduler.DAGScheduler: Completed ResultTask(8, 0)
13/07/28 05:36:20 INFO local.LocalScheduler: Remove TaskSet 8.0 from pool 
13/07/28 05:36:20 INFO scheduler.DAGScheduler: Stage 8 (count at <console>:15) finished in 0.765 s
13/07/28 05:36:20 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.768548708 s
res8: Long = 100002

scala> s.count()
13/07/28 05:36:21 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:21 INFO scheduler.DAGScheduler: Got job 9 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:21 INFO scheduler.DAGScheduler: Final stage: Stage 9 (count at <console>:15)
13/07/28 05:36:21 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:21 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:21 INFO scheduler.DAGScheduler: Submitting Stage 9 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:21 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 9 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:21 INFO local.LocalTaskSetManager: Size of task 9 is 1500 bytes
13/07/28 05:36:21 INFO local.LocalScheduler: Running 9
13/07/28 05:36:21 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:36:21 INFO local.LocalScheduler: Finished 9
13/07/28 05:36:21 INFO scheduler.DAGScheduler: Completed ResultTask(9, 0)
13/07/28 05:36:21 INFO local.LocalScheduler: Remove TaskSet 9.0 from pool 
13/07/28 05:36:21 INFO scheduler.DAGScheduler: Stage 9 (count at <console>:15) finished in 0.730 s
13/07/28 05:36:21 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.733097102 s
res9: Long = 100002

scala> s.count()
13/07/28 05:36:22 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:22 INFO scheduler.DAGScheduler: Got job 10 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:22 INFO scheduler.DAGScheduler: Final stage: Stage 10 (count at <console>:15)
13/07/28 05:36:22 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:22 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:22 INFO scheduler.DAGScheduler: Submitting Stage 10 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:22 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 10 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:22 INFO local.LocalTaskSetManager: Size of task 10 is 1500 bytes
13/07/28 05:36:22 INFO local.LocalScheduler: Running 10
13/07/28 05:36:22 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.100000, 65536)
13/07/28 05:36:22 INFO local.LocalScheduler: Finished 10
13/07/28 05:36:22 INFO scheduler.DAGScheduler: Completed ResultTask(10, 0)
13/07/28 05:36:22 INFO local.LocalScheduler: Remove TaskSet 10.0 from pool 
13/07/28 05:36:22 INFO scheduler.DAGScheduler: Stage 10 (count at <console>:15) finished in 0.720 s
13/07/28 05:36:22 INFO spark.SparkContext: Job finished: count at <console>:15, took 0.723371636 s
res10: Long = 100002

scala> 13/07/28 05:36:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:36:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:36:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:36:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:36:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:36:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:36:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:36:22 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:36:24,603 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:36:24,607 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:36:25,200 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:36:25,943 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:36:26,103 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:36:26,115 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:36:26,158 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:36:26,200 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:36:26,215 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:36:26,259 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:36:26,279 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:36:26,472 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:36:26,485 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:36:26,516 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:36:26,574 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:36:26,591 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

restaring tachyon
Killed 0 processes
Killed 0 processes
tachyon-ec2-0: Killed 0 processes
Formatting RamFS: /mnt/ramdisk
Starting master @ tachyon-ec2-0
Starting worker @ tachyon-ec2-0

spark-shell count
13177 tachyon.Master
13204 tachyon.Worker

SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/ubuntu/work/tachyon/target/tachyon-0.3.0-SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/ubuntu/work/spark/lib_managed/jars/slf4j-log4j12-1.7.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
Welcome to
      ____              __  
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 0.8.0
      /_/                  

Using Scala version 2.9.3 (OpenJDK 64-Bit Server VM, Java 1.7.0_25)
Initializing interpreter...
13/07/28 05:36:32 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:36:33 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:35348
Creating SparkContext...
13/07/28 05:36:42 INFO slf4j.Slf4jEventHandler: Slf4jEventHandler started
13/07/28 05:36:42 INFO spark.SparkEnv: Registering BlockManagerMaster
13/07/28 05:36:42 INFO storage.MemoryStore: MemoryStore started with capacity 1295.4 MB.
13/07/28 05:36:42 INFO storage.DiskStore: Created local directory at /tmp/spark-local-20130728053642-7ffe
13/07/28 05:36:42 INFO network.ConnectionManager: Bound socket to port 45752 with id = ConnectionManagerId(tachyon-ec2-0,45752)
13/07/28 05:36:42 INFO storage.BlockManagerMaster: Trying to register BlockManager
13/07/28 05:36:42 INFO storage.BlockManagerMasterActor$BlockManagerInfo: Registering block manager tachyon-ec2-0:45752 with 1295.4 MB RAM
13/07/28 05:36:42 INFO storage.BlockManagerMaster: Registered BlockManager
13/07/28 05:36:42 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:36:42 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:34526
13/07/28 05:36:42 INFO broadcast.HttpBroadcast: Broadcast server started at http://10.151.80.188:34526
13/07/28 05:36:42 INFO spark.SparkEnv: Registering MapOutputTracker
13/07/28 05:36:42 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-5bfbc61a-86fe-48b7-b573-6fca82fd5e62
13/07/28 05:36:42 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:36:42 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:55612
13/07/28 05:36:42 INFO server.Server: jetty-7.x.y-SNAPSHOT
13/07/28 05:36:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage/rdd,null}
13/07/28 05:36:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:36:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:36:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:36:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:36:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:36:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:36:42 INFO handler.ContextHandler: started o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:36:42 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:33000
13/07/28 05:36:43 INFO ui.SparkUI: Started Spark Web UI at http://tachyon-ec2-0:33000
Spark context available as sc.
Type in expressions to have them evaluated.
Type :help for more information.

scala> val s = sc.textFile("tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000")
13/07/28 05:36:44 INFO storage.MemoryStore: ensureFreeSpace(58431) called with curMem=0, maxMem=1358297825
13/07/28 05:36:44 INFO storage.MemoryStore: Block broadcast_0 stored as values to memory (estimated size 57.1 KB, free 1295.3 MB)
s: spark.RDD[String] = MappedRDD[1] at textFile at <console>:12

scala> s.count()
13/07/28 05:36:44 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
13/07/28 05:36:44 WARN snappy.LoadSnappy: Snappy native library not loaded
13/07/28 05:36:44 INFO : initialize(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml). Connecting to Tachyon: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:36:44 INFO : Trying to connect master @ tachyon-ec2-0/10.151.80.188:19998
13/07/28 05:36:44 INFO : User registered at the master tachyon-ec2-0/10.151.80.188:19998 got UserId 1
13/07/28 05:36:44 INFO : Trying to get local worker host : tachyon-ec2-0
13/07/28 05:36:44 INFO : Connecting local worker @ tachyon-ec2-0/10.151.80.188:29998
13/07/28 05:36:44 INFO : tachyon://tachyon-ec2-0:19998 tachyon://tachyon-ec2-0:19998 s3n://2012-05-19-sample
13/07/28 05:36:44 INFO : getFileStatus(/hit_data.tsv.500000): HDFS Path: s3n://2012-05-19-sample/hit_data.tsv.500000 TPath: tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000
13/07/28 05:36:45 INFO : tachyon.client.TachyonFS@32ab0d66 s3n://2012-05-19-sample /hit_data.tsv.500000 tachyon.PrefixList@7bfcbd86
13/07/28 05:36:47 INFO : Create tachyon file /hit_data.tsv.500000 with file id 2 and checkpoint location s3n://2012-05-19-sample/hit_data.tsv.500000
13/07/28 05:36:47 INFO mapred.FileInputFormat: Total input paths to process : 1
13/07/28 05:36:47 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:36:47 INFO scheduler.DAGScheduler: Got job 0 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:36:47 INFO scheduler.DAGScheduler: Final stage: Stage 0 (count at <console>:15)
13/07/28 05:36:47 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:36:47 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:36:47 INFO scheduler.DAGScheduler: Submitting Stage 0 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:36:47 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:36:47 INFO local.LocalTaskSetManager: Size of task 0 is 1499 bytes
13/07/28 05:36:47 INFO local.LocalScheduler: Running 0
13/07/28 05:36:47 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:36:47 INFO : /mnt/ramdisk/tachyonworker/2147483648 is not on local disk.
13/07/28 05:36:47 INFO : Try to find and read from remote workers.
13/07/28 05:36:47 INFO : readByteBufferFromRemote() [NetAddress(mHost:localhost, mPort:-1)]
13/07/28 05:36:47 INFO s3native.NativeS3FileSystem: Opening 's3n://2012-05-19-sample/hit_data.tsv.500000' for reading
13/07/28 05:36:47 INFO : Folder /mnt/ramdisk/tachyonworker/users/1 was created!
13/07/28 05:36:47 INFO : /mnt/ramdisk/tachyonworker/users/1/2147483648 was created!
13/07/28 05:37:28 INFO local.LocalScheduler: Finished 0
13/07/28 05:37:28 INFO local.LocalScheduler: Remove TaskSet 0.0 from pool 
13/07/28 05:37:28 INFO scheduler.DAGScheduler: Completed ResultTask(0, 0)
13/07/28 05:37:28 INFO scheduler.DAGScheduler: Stage 0 (count at <console>:15) finished in 41.258 s
13/07/28 05:37:28 INFO spark.SparkContext: Job finished: count at <console>:15, took 41.303471043 s
res0: Long = 500094

scala> s.count()
13/07/28 05:37:28 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:37:28 INFO scheduler.DAGScheduler: Got job 1 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:37:28 INFO scheduler.DAGScheduler: Final stage: Stage 1 (count at <console>:15)
13/07/28 05:37:28 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:37:28 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:37:28 INFO scheduler.DAGScheduler: Submitting Stage 1 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:37:28 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 1 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:37:28 INFO local.LocalTaskSetManager: Size of task 1 is 1500 bytes
13/07/28 05:37:28 INFO local.LocalScheduler: Running 1
13/07/28 05:37:28 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:37:32 INFO local.LocalScheduler: Finished 1
13/07/28 05:37:32 INFO scheduler.DAGScheduler: Completed ResultTask(1, 0)
13/07/28 05:37:32 INFO local.LocalScheduler: Remove TaskSet 1.0 from pool 
13/07/28 05:37:32 INFO scheduler.DAGScheduler: Stage 1 (count at <console>:15) finished in 3.528 s
13/07/28 05:37:32 INFO spark.SparkContext: Job finished: count at <console>:15, took 3.531131226 s
res1: Long = 500094

scala> s.count()
13/07/28 05:37:32 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:37:32 INFO scheduler.DAGScheduler: Got job 2 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:37:32 INFO scheduler.DAGScheduler: Final stage: Stage 2 (count at <console>:15)
13/07/28 05:37:32 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:37:32 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:37:32 INFO scheduler.DAGScheduler: Submitting Stage 2 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:37:32 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 2 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:37:32 INFO local.LocalTaskSetManager: Size of task 2 is 1500 bytes
13/07/28 05:37:32 INFO local.LocalScheduler: Running 2
13/07/28 05:37:32 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:37:35 INFO local.LocalScheduler: Finished 2
13/07/28 05:37:35 INFO scheduler.DAGScheduler: Completed ResultTask(2, 0)
13/07/28 05:37:35 INFO local.LocalScheduler: Remove TaskSet 2.0 from pool 
13/07/28 05:37:35 INFO scheduler.DAGScheduler: Stage 2 (count at <console>:15) finished in 3.429 s
13/07/28 05:37:35 INFO spark.SparkContext: Job finished: count at <console>:15, took 3.432076491 s
res2: Long = 500094

scala> s.count()
13/07/28 05:37:36 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:37:36 INFO scheduler.DAGScheduler: Got job 3 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:37:36 INFO scheduler.DAGScheduler: Final stage: Stage 3 (count at <console>:15)
13/07/28 05:37:36 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:37:36 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:37:36 INFO scheduler.DAGScheduler: Submitting Stage 3 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:37:36 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 3 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:37:36 INFO local.LocalTaskSetManager: Size of task 3 is 1500 bytes
13/07/28 05:37:36 INFO local.LocalScheduler: Running 3
13/07/28 05:37:36 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:37:39 INFO local.LocalScheduler: Finished 3
13/07/28 05:37:39 INFO scheduler.DAGScheduler: Completed ResultTask(3, 0)
13/07/28 05:37:39 INFO local.LocalScheduler: Remove TaskSet 3.0 from pool 
13/07/28 05:37:39 INFO scheduler.DAGScheduler: Stage 3 (count at <console>:15) finished in 3.429 s
13/07/28 05:37:39 INFO spark.SparkContext: Job finished: count at <console>:15, took 3.433218069 s
res3: Long = 500094

scala> s.count()
13/07/28 05:37:39 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:37:39 INFO scheduler.DAGScheduler: Got job 4 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:37:39 INFO scheduler.DAGScheduler: Final stage: Stage 4 (count at <console>:15)
13/07/28 05:37:39 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:37:39 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:37:39 INFO scheduler.DAGScheduler: Submitting Stage 4 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:37:39 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 4 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:37:39 INFO local.LocalTaskSetManager: Size of task 4 is 1500 bytes
13/07/28 05:37:39 INFO local.LocalScheduler: Running 4
13/07/28 05:37:39 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:37:43 INFO local.LocalScheduler: Finished 4
13/07/28 05:37:43 INFO scheduler.DAGScheduler: Completed ResultTask(4, 0)
13/07/28 05:37:43 INFO local.LocalScheduler: Remove TaskSet 4.0 from pool 
13/07/28 05:37:43 INFO scheduler.DAGScheduler: Stage 4 (count at <console>:15) finished in 3.451 s
13/07/28 05:37:43 INFO spark.SparkContext: Job finished: count at <console>:15, took 3.454615842 s
res4: Long = 500094

scala> s.count()
13/07/28 05:37:43 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:37:43 INFO scheduler.DAGScheduler: Got job 5 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:37:43 INFO scheduler.DAGScheduler: Final stage: Stage 5 (count at <console>:15)
13/07/28 05:37:43 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:37:43 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:37:43 INFO scheduler.DAGScheduler: Submitting Stage 5 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:37:43 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 5 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:37:43 INFO local.LocalTaskSetManager: Size of task 5 is 1500 bytes
13/07/28 05:37:43 INFO local.LocalScheduler: Running 5
13/07/28 05:37:43 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:37:47 INFO local.LocalScheduler: Finished 5
13/07/28 05:37:47 INFO scheduler.DAGScheduler: Completed ResultTask(5, 0)
13/07/28 05:37:47 INFO local.LocalScheduler: Remove TaskSet 5.0 from pool 
13/07/28 05:37:47 INFO scheduler.DAGScheduler: Stage 5 (count at <console>:15) finished in 3.435 s
13/07/28 05:37:47 INFO spark.SparkContext: Job finished: count at <console>:15, took 3.438379159 s
res5: Long = 500094

scala> s.count()
13/07/28 05:37:47 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:37:47 INFO scheduler.DAGScheduler: Got job 6 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:37:47 INFO scheduler.DAGScheduler: Final stage: Stage 6 (count at <console>:15)
13/07/28 05:37:47 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:37:47 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:37:47 INFO scheduler.DAGScheduler: Submitting Stage 6 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:37:47 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 6 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:37:47 INFO local.LocalTaskSetManager: Size of task 6 is 1500 bytes
13/07/28 05:37:47 INFO local.LocalScheduler: Running 6
13/07/28 05:37:47 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:37:50 INFO local.LocalScheduler: Finished 6
13/07/28 05:37:50 INFO scheduler.DAGScheduler: Completed ResultTask(6, 0)
13/07/28 05:37:50 INFO local.LocalScheduler: Remove TaskSet 6.0 from pool 
13/07/28 05:37:50 INFO scheduler.DAGScheduler: Stage 6 (count at <console>:15) finished in 3.435 s
13/07/28 05:37:50 INFO spark.SparkContext: Job finished: count at <console>:15, took 3.438103492 s
res6: Long = 500094

scala> s.count()
13/07/28 05:37:50 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:37:50 INFO scheduler.DAGScheduler: Got job 7 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:37:50 INFO scheduler.DAGScheduler: Final stage: Stage 7 (count at <console>:15)
13/07/28 05:37:50 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:37:50 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:37:50 INFO scheduler.DAGScheduler: Submitting Stage 7 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:37:50 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 7 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:37:50 INFO local.LocalTaskSetManager: Size of task 7 is 1500 bytes
13/07/28 05:37:50 INFO local.LocalScheduler: Running 7
13/07/28 05:37:50 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:37:54 INFO local.LocalScheduler: Finished 7
13/07/28 05:37:54 INFO scheduler.DAGScheduler: Completed ResultTask(7, 0)
13/07/28 05:37:54 INFO local.LocalScheduler: Remove TaskSet 7.0 from pool 
13/07/28 05:37:54 INFO scheduler.DAGScheduler: Stage 7 (count at <console>:15) finished in 3.426 s
13/07/28 05:37:54 INFO spark.SparkContext: Job finished: count at <console>:15, took 3.429469736 s
res7: Long = 500094

scala> s.count()
13/07/28 05:37:54 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:37:54 INFO scheduler.DAGScheduler: Got job 8 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:37:54 INFO scheduler.DAGScheduler: Final stage: Stage 8 (count at <console>:15)
13/07/28 05:37:54 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:37:54 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:37:54 INFO scheduler.DAGScheduler: Submitting Stage 8 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:37:54 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 8 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:37:54 INFO local.LocalTaskSetManager: Size of task 8 is 1500 bytes
13/07/28 05:37:54 INFO local.LocalScheduler: Running 8
13/07/28 05:37:54 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:37:58 INFO local.LocalScheduler: Finished 8
13/07/28 05:37:58 INFO scheduler.DAGScheduler: Completed ResultTask(8, 0)
13/07/28 05:37:58 INFO local.LocalScheduler: Remove TaskSet 8.0 from pool 
13/07/28 05:37:58 INFO scheduler.DAGScheduler: Stage 8 (count at <console>:15) finished in 3.420 s
13/07/28 05:37:58 INFO spark.SparkContext: Job finished: count at <console>:15, took 3.423814505 s
res8: Long = 500094

scala> s.count()
13/07/28 05:37:58 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:37:58 INFO scheduler.DAGScheduler: Got job 9 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:37:58 INFO scheduler.DAGScheduler: Final stage: Stage 9 (count at <console>:15)
13/07/28 05:37:58 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:37:58 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:37:58 INFO scheduler.DAGScheduler: Submitting Stage 9 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:37:58 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 9 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:37:58 INFO local.LocalTaskSetManager: Size of task 9 is 1500 bytes
13/07/28 05:37:58 INFO local.LocalScheduler: Running 9
13/07/28 05:37:58 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:38:01 INFO local.LocalScheduler: Finished 9
13/07/28 05:38:01 INFO scheduler.DAGScheduler: Completed ResultTask(9, 0)
13/07/28 05:38:01 INFO local.LocalScheduler: Remove TaskSet 9.0 from pool 
13/07/28 05:38:01 INFO scheduler.DAGScheduler: Stage 9 (count at <console>:15) finished in 3.427 s
13/07/28 05:38:01 INFO spark.SparkContext: Job finished: count at <console>:15, took 3.429573048 s
res9: Long = 500094

scala> s.count()
13/07/28 05:38:01 INFO spark.SparkContext: Starting job: count at <console>:15
13/07/28 05:38:01 INFO scheduler.DAGScheduler: Got job 10 (count at <console>:15) with 1 output partitions (allowLocal=false)
13/07/28 05:38:01 INFO scheduler.DAGScheduler: Final stage: Stage 10 (count at <console>:15)
13/07/28 05:38:01 INFO scheduler.DAGScheduler: Parents of final stage: List()
13/07/28 05:38:01 INFO scheduler.DAGScheduler: Missing parents: List()
13/07/28 05:38:01 INFO scheduler.DAGScheduler: Submitting Stage 10 (MappedRDD[1] at textFile at <console>:12), which has no missing parents
13/07/28 05:38:01 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from Stage 10 (MappedRDD[1] at textFile at <console>:12)
13/07/28 05:38:01 INFO local.LocalTaskSetManager: Size of task 10 is 1500 bytes
13/07/28 05:38:01 INFO local.LocalScheduler: Running 10
13/07/28 05:38:01 INFO : open(tachyon://tachyon-ec2-0:19998/hit_data.tsv.500000, 65536)
13/07/28 05:38:05 INFO local.LocalScheduler: Finished 10
13/07/28 05:38:05 INFO scheduler.DAGScheduler: Completed ResultTask(10, 0)
13/07/28 05:38:05 INFO local.LocalScheduler: Remove TaskSet 10.0 from pool 
13/07/28 05:38:05 INFO scheduler.DAGScheduler: Stage 10 (count at <console>:15) finished in 3.450 s
13/07/28 05:38:05 INFO spark.SparkContext: Job finished: count at <console>:15, took 3.452688502 s
res10: Long = 500094

scala> 13/07/28 05:38:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/,null}
13/07/28 05:38:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/static,null}
13/07/28 05:38:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/executors,null}
13/07/28 05:38:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/environment,null}
13/07/28 05:38:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages,null}
13/07/28 05:38:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/stages/stage,null}
13/07/28 05:38:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage,null}
13/07/28 05:38:05 INFO handler.ContextHandler: stopped o.e.j.s.h.ContextHandler{/storage/rdd,null}
Killed 1 processes
Killed 1 processes
tachyon-ec2-0: Killed 0 processes
Formatting Tachyon @ tachyon-ec2-0
2013-07-28 05:38:07,343 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_checkpoint.data
2013-07-28 05:38:07,347 INFO   (Format.java:main) - Deleting /home/ubuntu/work/tachyon/bin/../data/tachyon_log.data
2013-07-28 05:38:07,941 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/data
2013-07-28 05:38:08,690 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:38:08,835 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:38:08,854 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:38:08,900 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:38:09,016 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata' - Unexpected response code 404, expected 200
2013-07-28 05:38:09,027 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fdata_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:38:09,083 INFO   (Format.java:main) - Formatting s3n://2012-05-19-sample/tachyon/workers
2013-07-28 05:38:09,167 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:38:09,295 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:38:09,315 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200
2013-07-28 05:38:09,373 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon' - Unexpected response code 404, expected 200
2013-07-28 05:38:09,404 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers' - Unexpected response code 404, expected 200
2013-07-28 05:38:09,426 WARN  RestS3Service (RestS3Service.java:performRequest) - Response '/tachyon%2Fworkers_%24folder%24' - Unexpected response code 404, expected 200

